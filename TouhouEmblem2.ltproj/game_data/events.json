[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "0",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "chapter_title",
            "enable_convoy;1",
            "enable_turnwheel;1",
            "game_var;_max_turnwheel_uses;3",
            "game_var;_current_turnwheel_uses;3",
            "add_lore;Intro",
            "add_lore;Character_Stats",
            "add_lore;Weapon_Stats_and_Tags",
            "add_lore;Weapon_Triangle",
            "add_lore;Effective_Damage",
            "add_lore;Movement_Types",
            "add_lore;Growths",
            "add_lore;Supports",
            "add_lore;Rescue",
            "add_lore;Combat_Arts",
            "change_background;HakureiShrine",
            "add_portrait;Reimu;MidRight",
            "add_portrait;Marisa;MidLeft",
            "speak;Marisa;Phew, nothing like a nice cup of tea to start off the day! You've really outdone yourself|this time, Reimu!",
            "speak;Reimu;Well, I had a feeling that it would be a good time to break out the special blend.",
            "speak;Marisa;What's even in this stuff, anyway?",
            "speak;Reimu;Warabi and kogomi.",
            "speak;Marisa;Are you sure that poverty goddess isn't the owner of this shrine?",
            "add_portrait;Remilia;FarLeft",
            "speak;Remilia;Fufu, I heard that there was a party today.",
            "speak;Reimu;Even with you, we still couldn't make a full party...",
            "speak;Remilia;I see you have tea out. Let me take a sip.",
            "speak;Marisa;Where's that weird maid of yours?",
            "speak;Remilia;I can go out by myself, thank you very much.",
            "speak;Reimu;Couldn't have guessed...",
            "speak;Remilia;This tea is quite excellent, what manner of brew is this?",
            "speak;Reimu;Darjeeling.",
            "speak;Remilia;Really? Japanese darjeeling is quite different.",
            "add_portrait;Aunn;FarRight",
            "speak;Aunn;Miss Reimu! Miss Yukari has come to see you!",
            "speak;Marisa;See, Reimu? We did have a full party!",
            "speak;Reimu;Oh, the komainu. I guess she counts.",
            "speak;Aunn;I'm wounded by your words!",
            "remove_portrait;Aunn",
            "add_portrait;Yukari;FarRight",
            "speak;Yukari;Greetings Reimu. And you too, Marisa.",
            "speak;Remilia;Am I not here too?",
            "speak;Yukari;Ah yes, and the vampire. Where's your maid?",
            "speak;Remilia;I seem to be getting that question a lot today.",
            "speak;Yukari;I believe it might relate to the absence of said maid.",
            "speak;Reimu;What do you need this time?",
            "speak;Yukari;Oh, nothing much. I simply wished to announce the start of another incident?",
            "speak;Reimu;Just what I needed on this peaceful morning. Who is it? The Moriyas? Animal realm? The vampire next to me?",
            "speak;Remilia;I'm quite offended you would suspect the person who has been doing nothing but enjoying this fine darjeeling with you.",
            "speak;Yukari;That tea is warabi and kogomi.",
            "speak;Remilia;I may have a reason to start an incident.",
            "speak;Reimu;Quiet down. ",
            "speak;Yukari;Remember that one incident two years ago, where you all lost the power to wield spell cards?",
            "speak;Reimu;Oh, that annoying one.",
            "speak;Marisa;Didn't you start that incident?!",
            "speak;Reimu;You're right. We should just beat her up again.",
            "speak;Yukari;Ah, but you see, I too am unaware of who orchestrated this incident this time. And thus, it falls upon you to resolve it.",
            "speak;Reimu;It would have fallen upon me either way...",
            "speak;Marisa;I love a good mystery! ",
            "speak;Yukari;Well, I would love to stay and chat, but I sensed a disturbance in the boundary recently, so I will be looking into that. Good luck!",
            "remove_portrait;Yukari",
            "speak;Reimu;Damn gap youkai, always pushing responsibility onto me.",
            "speak;Marisa;Well, if we don't know who it is, why don't we just take care of everybody one by one?",
            "speak;Reimu;Sounds like a waste of time.",
            "speak;Marisa;You have any brighter ideas?",
            "speak;Reimu;Fair.",
            "add_portrait;Kasen;FarRight",
            "speak;Kasen;Hello, everyone!",
            "speak;Reimu;Ah, just who I was looking for!",
            "speak;Kasen;What?",
            "speak;Reimu;You're coming along for another grand conquest of Gensokyo!",
            "speak;Kasen;Reimu, I didn't agree-",
            "speak;Marisa;It's to solve an incident, don't worry about it.",
            "speak;Kasen;I don't even know what the incident is...",
            "speak;Marisa;Everyone's lost their spell cards again.",
            "speak;Kasen;*sigh*",
            "speak;Remilia;I shall tag along too! This sounds like an interesting time.",
            "speak;Reimu;Interesting this, fun that. Do you people ever think about anything but fun?",
            "speak;Marisa;Hey! I care! About having fun.",
            "speak;Kasen;I care...",
            "speak;Remilia;Speaking of which, it seems we have more guests at the torii.",
            "speak;Reimu;Not these guys again...",
            "multi_remove_portrait;Reimu;Marisa;Kasen;Remilia",
            "add_portrait;Rumia;Right",
            "add_portrait;Reimu;CenterLeft",
            "add_portrait;Marisa;FarLeft",
            "speak;Rumia;Hahaha! With everyone's powers gone again, it's time for another attack on Hakurei Shrine!",
            "speak;Reimu;This only exacerbates the power gap between us...",
            "speak;Rumia;Shut it! I'll win today!",
            "speak;Marisa;In broad daylight?",
            "speak;Rumia;Sh-shut it!"
        ]
    },
    {
        "name": "DeathEirika",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Eirika'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Eirika;FarRight",
            "speak;Eirika;Brother... I'm sorry.",
            "expression;Eirika;CloseEyes",
            "remove_portrait;Eirika",
            "remove_unit;Eirika",
            "lose_game"
        ]
    },
    {
        "name": "DeathSeth",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Seth'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Seth;FarRight",
            "speak;Seth;Urgh...|My apologies. I must withdraw.",
            "expression;Seth;CloseEyes",
            "remove_portrait;Seth"
        ]
    },
    {
        "name": "DeathJoshua",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Joshua'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Joshua;FarRight",
            "speak;Joshua;I... I guess my luck finally ran out...|Heh.",
            "expression;Joshua;CloseEyes",
            "remove_portrait;Joshua"
        ]
    },
    {
        "name": "DeathColm",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Colm'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Colm;FarRight",
            "speak;Colm;To think of it... Me... In this place...|Neimi...",
            "expression;Colm;CloseEyes",
            "remove_portrait;Colm"
        ]
    },
    {
        "name": "DeathNeimi",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Neimi'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Neimi;FarRight",
            "speak;Neimi;You were right, Colm...|I am a klutz. Sorry...",
            "expression;Neimi;CloseEyes",
            "remove_portrait;Neimi"
        ]
    },
    {
        "name": "DeathArtur",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Artur'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Artur;FarRight",
            "speak;Artur;The rest... is up to you.",
            "expression;Artur;CloseEyes",
            "remove_portrait;Artur"
        ]
    },
    {
        "name": "DeathNatasha",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Natasha'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Natasha;FarRight",
            "if;game.level.nid == '5'",
            "speak;Natasha;I can't let myself die here...|Someone has to hear my tale...",
            "else",
            "speak;Natasha;My fate is irrelevant...|The world must have... light.",
            "end",
            "expression;Natasha;CloseEyes",
            "remove_portrait;Natasha"
        ]
    },
    {
        "name": "DeathLute",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Lute'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Lute;FarRight",
            "speak;Lute;I...{br}I don't want to die...",
            "expression;Lute;CloseEyes",
            "remove_portrait;Lute"
        ]
    },
    {
        "name": "DeathVanessa",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Vanessa'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Vanessa;FarRight",
            "speak;Vanessa;Please...|Forgive me...",
            "expression;Vanessa;CloseEyes",
            "remove_portrait;Vanessa"
        ]
    },
    {
        "name": "DeathMoulder",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Moulder'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Moulder;FarRight",
            "speak;Moulder;I am sorry. I believe this is as far as I go...",
            "expression;Moulder;CloseEyes",
            "remove_portrait;Moulder"
        ]
    },
    {
        "name": "DeathRoss",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Ross'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Ross;FarRight",
            "speak;Ross;I... am a warrior to the very end.",
            "expression;Ross;CloseEyes",
            "remove_portrait;Ross"
        ]
    },
    {
        "name": "DeathGarcia",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Garcia'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Garcia;FarRight",
            "speak;Garcia;I have no regrets.{br}This was always my fate.",
            "expression;Garcia;CloseEyes",
            "remove_portrait;Garcia"
        ]
    },
    {
        "name": "DeathFranz",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Franz'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Franz;FarRight",
            "speak;Franz;I'm sorry, General Seth...",
            "expression;Franz;CloseEyes",
            "remove_portrait;Franz"
        ]
    },
    {
        "name": "DeathGilliam",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Gilliam'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Gilliam;FarRight",
            "speak;Gilliam;I was prepared for...{br}anything...",
            "expression;Gilliam;CloseEyes",
            "remove_portrait;Gilliam"
        ]
    },
    {
        "name": "DeathRumia",
        "trigger": "unit_death",
        "level_nid": "0",
        "condition": "unit.nid == \"Rumia_Boss\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Rumia_Boss;Left",
            "speak;Rumia_Boss;Not...again...",
            "expression;Rumia_Boss;CloseEyes",
            "remove_portrait;Rumia_Boss",
            "give_bexp;100;no_banner"
        ]
    },
    {
        "name": "DeathSaar",
        "trigger": "unit_death",
        "level_nid": "5",
        "condition": "unit.nid == \"Saar\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Saar;Left",
            "speak;Saar;Emperor Vigarde...{br}Glory to His...Majesty...",
            "expression;Saar;CloseEyes",
            "remove_portrait;Saar"
        ]
    },
    {
        "name": "DeathSekibanki",
        "trigger": "unit_death",
        "level_nid": "1",
        "condition": "unit.nid == \"Sekibanki_Boss\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Sekibanki;Left",
            "speak;Sekibanki;Urgh...you're all too insane...",
            "expression;Sekibanki;CloseEyes",
            "remove_portrait;Sekibanki",
            "give_bexp;50;no_banner"
        ]
    },
    {
        "name": "DeathKagerou",
        "trigger": "unit_death",
        "level_nid": "1",
        "condition": "unit.nid == \"Kagerou_Boss\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Kagerou;Left",
            "speak;Kagerou;Ouch! Ew, you got dirt all over my fur!",
            "expression;Kagerou;CloseEyes",
            "remove_portrait;Kagerou",
            "give_bexp;50;no_banner"
        ]
    },
    {
        "name": "DeathWakasagihime",
        "trigger": "unit_death",
        "level_nid": "1",
        "condition": "unit.nid == \"Sekibanki_Boss\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Wakasagihime;Left",
            "speak;Wakasagihime;Sunk to the bottom...",
            "expression;Wakasagihime;CloseEyes",
            "remove_portrait;Wakasagihime",
            "give_bexp;50;no_banner"
        ]
    },
    {
        "name": "Outro",
        "trigger": "level_end",
        "level_nid": "0",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 22,
        "_source": [
            "transition;close",
            "change_background;HakureiShrine",
            "transition;Open",
            "add_portrait;Reimu;FarLeft",
            "add_portrait;Marisa;CenterLeft",
            "speak;Reimu;You know, it's always quite annoying when they keep trying the same tricks and|expecting them to work.",
            "speak;Marisa;Should we take her with us?",
            "speak;Reimu;Nah. Too much work to babysit a youkai.",
            "add_portrait;Rumia;Right",
            "speak;Rumia;Ughh...so rough...",
            "speak;Reimu;Get out of my shrine!",
            "speak;Rumia;Eeeek!",
            "remove_portrait;Rumia",
            "add_portrait;Kasen;CenterRight",
            "speak;Kasen;*sigh* Well, that's that. So, another civil war has started.",
            "add_portrait;Remilia;FarRight",
            "speak;Remilia;Seems that everybody's already gotten up and ready for a fight! This should be quite|exciting.",
            "speak;Marisa;Don't you also have to get back to do your own preparations at this point?",
            "speak;Remilia;I decided it would be a more entertaining bit to just help you this time. ",
            "speak;Reimu;Vampires are such fickle beings.",
            "speak;Marisa;So where to next? We've got plenty of options.",
            "speak;Kasen;We should probably go check on the Human Village. It's at risk to being attacked by youkai in this time of need. ",
            "speak;Reimu;Well, I do extermination for a reason. I do suppose Keine might need our help.",
            "speak;Marisa;And hey, helpin' those villagers might get us some allies too!",
            "speak;Reimu;Well, that settles it. To the human village!",
            "transition;Close",
            "set_next_chapter;1"
        ]
    },
    {
        "name": "Defeat Boss",
        "trigger": "combat_end",
        "level_nid": "0",
        "condition": "game.check_dead(\"Rumia_Boss\")",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "win_game"
        ]
    },
    {
        "name": "Defeat Boss",
        "trigger": "combat_end",
        "level_nid": "5",
        "condition": "game.check_dead(\"Saar\")",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "win_game"
        ]
    },
    {
        "name": "FightRumia",
        "trigger": "combat_start",
        "level_nid": "0",
        "condition": "(unit.nid == \"Rumia_Boss\" and unit2.team == 'player') or (unit2.nid == \"Rumia_Boss\" and unit.team == 'player')",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Rumia_Boss;Left",
            "speak;Rumia_Boss;This is my day! Embrace the darkness!",
            "remove_portrait;Rumia_Boss",
            "change_music;player_phase;Grasp at Victory"
        ]
    },
    {
        "name": "FightSaar",
        "trigger": "combat_start",
        "level_nid": "5",
        "condition": "unit.nid == \"Saar\" or unit2.nid == \"Saar\"",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Saar;Left",
            "speak;Saar;Enemy of the empire!{br}Death's too good for you!",
            "remove_portrait;Saar"
        ]
    },
    {
        "name": "FightSekibanki",
        "trigger": "combat_start",
        "level_nid": "1",
        "condition": "(unit.nid == \"Sekibanki_Boss\" and unit2.team == 'player') or (unit2.nid == \"Sekibanki_Boss\" and unit.team == 'player')",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Sekibanki;Left",
            "speak;Sekibanki;Well, well. Don't get dizzy as my heads run circles!",
            "remove_portrait;Sekibanki"
        ]
    },
    {
        "name": "FightWakasagihime",
        "trigger": "combat_start",
        "level_nid": "1",
        "condition": "(unit.nid == \"Wakasagihime_Boss\" and unit2.team == 'player') or (unit2.nid == \"Wakasagihime_Boss\" and unit.team == 'player')",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Wakasagihime;Left",
            "speak;Wakasagihime;Just because you're above the water doesn't mean you're safe from it!",
            "remove_portrait;Wakasagihime"
        ]
    },
    {
        "name": "FightKagerou",
        "trigger": "combat_start",
        "level_nid": "1",
        "condition": "(unit.nid == \"Kagerou_Boss\" and unit2.team == 'player') or (unit2.nid == \"Kagerou_Boss\" and unit.team == 'player')",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Kagerou;Left",
            "speak;Kagerou;It may not be the full moon, but I'm a proud wolf! Taste my claws!",
            "remove_portrait;Kagerou"
        ]
    },
    {
        "name": "House1",
        "trigger": "Visit",
        "level_nid": "1",
        "condition": "region.nid == 'House1'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;House",
            "transition;Open",
            "add_portrait;Man1;Left;no_block",
            "add_portrait;{unit};Right",
            "speak;Man1;Got this cool sword from Kourindou the other day! The shopkeeper told me it'd be perfect|for cooking, but uh, it burnt my meat a bit too well. Well, it was cheap, and I don't really|have a use for it anymore. Maybe you'll be able to use it?",
            "transition;Close",
            "change_background",
            "transition;Open",
            "give_item;{unit};Flamberge",
            "give_bexp;30;no_banner",
            "show_layer;Closed1",
            "has_traded;{unit}"
        ]
    },
    {
        "name": "House2",
        "trigger": "Visit",
        "level_nid": "1",
        "condition": "region.nid == 'House2'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;House",
            "transition;Open",
            "add_portrait;Man2;Left;no_block",
            "add_portrait;{unit};Right",
            "speak;Man2;Sometimes, you need a bit of speed in your life to get things done. I like to use light|tools myself, since they let you move around with more haste and do things faster, like|this axe here!",
            "transition;Close",
            "change_background",
            "transition;Open",
            "give_item;{unit};Slim_Axe",
            "give_bexp;30;no_banner",
            "show_layer;Closed2",
            "has_traded;{unit}"
        ]
    },
    {
        "name": "House3",
        "trigger": "Visit",
        "level_nid": "1",
        "condition": "region.nid == 'House3'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;House",
            "transition;Open",
            "add_portrait;Man2;Left;no_block",
            "add_portrait;{unit};Right",
            "speak;Man2;H-hey, what's going on? Why are all these youkai going crazy? I dunno what's going|on, but take this. That pharmacist who comes around here occassionally gave it to me.|Stay safe.",
            "change_background",
            "transition;Open",
            "give_item;{unit};Eirins_Drugs",
            "give_bexp;30;no_banner",
            "show_layer;Closed3",
            "has_traded;{unit}"
        ]
    },
    {
        "name": "Seize",
        "trigger": "Seize",
        "level_nid": "1",
        "condition": "'Lord' in unit.tags",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "win_game"
        ]
    },
    {
        "name": "Outro",
        "trigger": "level_end",
        "level_nid": "1",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "change_background;VillageGate",
            "add_portrait;Keine;CenterLeft",
            "add_portrait;Reimu;CenterRight",
            "add_portrait;Marisa;FarRight",
            "speak;Keine;Alright, that seems to be the last of them.",
            "speak;Marisa;Yer really scary when you get mad, y'know?",
            "speak;Keine;The safety of the village is my main priority.",
            "speak;Reimu;Mmm yeah, a few of them are just standing there, quivering.",
            "speak;Marisa;That's also partially 'cause of you, Reimu.",
            "speak;Reimu;Hmph, as it should be.",
            "speak;Keine;Anyways, thanks for your help. It was really convenient that you came by at this time.",
            "speak;Reimu;Awesome. Now, on the subject of a reward...",
            "speak;Keine;I guess I can give you this.",
            "give_item;Reimu;Yukkuri_M",
            "speak;Reimu;The heck am I supposed to do with this?",
            "speak;Keine;I guess you could sell it.",
            "speak;Reimu;Tch, stingy.",
            "transition;close",
            "change_background;River",
            "multi_remove_portrait;Keine;Marisa",
            "multi_add_portrait;Kagerou;CenterLeft;Sekibanki;FarLeft;Kasen;FarRight;Reimu;CenterRight",
            "transition;open",
            "speak;Kagerou;Rrghhh! Let us go! How dare you wrap us in these ropes!",
            "speak;Reimu;Y'know, the werewolf seems a bit more aggressive than usual, just like during that|miracle mallet incident.",
            "speak;Kasen;They should snap back if you just bonk them a bit.",
            "speak;Kagerou;Ow!",
            "speak;Sekibanki;Yowch!",
            "speak;Reimu;All back to normal?",
            "speak;Kagerou;H-huh?! What's happening?",
            "speak;Sekibanki;Where are we...",
            "remove_portrait;Sekibanki",
            "add_portrait;Wakasagihime;FarLeft",
            "speak;Wakasagihime;Eeek! The Crimson Slasher!",
            "remove_portrait;Wakasagihime",
            "add_portrait;Sekibanki;FarLeft",
            "speak;Sekibanki;So much for camraderie.",
            "speak;Kasen;Well, they were definitely possessed by the miracle mallet. But is it really the fault of|that inchling?",
            "speak;Kagerou;Uhhh...last thing I remember is being hit on the head by some maid.",
            "speak;Reimu;Remilia?",
            "remove_portrait;Kasen",
            "add_portrait;Remilia;FarRight",
            "speak;Remilia;Sakuya isn't the only maid in existence, you know?",
            "remove_portrait;Remilia",
            "add_portrait;Kasen;FarRight",
            "speak;Sekibanki;No, no. That maid was blonde. Also somehow scarier than the vampire's maid.",
            "speak;Reimu;Weird. Never heard of anybody like that.",
            "speak;Sekibanki;I swear, if I had a mon for every time I was hit about the head with a golden mallet, I'd|have two mon, which isn't a lot, but it's weird that it happened twice.",
            "speak;Reimu;Well, I am feeling pretty generous today, so let's say this. I'm going to give you to|the count of ten, to get your ugly, mallet-bonked mugs out of this village before|I make it the third time you get bonked today.",
            "speak;Kagerou;Eeek!",
            "speak;Sekibanki;G-got it!",
            "multi_remove_portrait;Sekibanki;Kagerou",
            "speak;Kasen;No need to be so rough on them.",
            "speak;Reimu;Well, they're guilty of falling for the same trick twice. Plus, never helped anyone to|be soft on youkai.",
            "speak;Kasen;We could've at least conscripted them. Would've been helpful.",
            "speak;Reimu;Oh. Right. Oh well. Any ideas where we should head from here?",
            "speak;Kasen;Maybe Eientei. That doctor might have something better than hitting the opponent to|solve this mallet incident.",
            "speak;Reimu;Fine by me. I'm itching for a fight with Eirin anyway.",
            "speak;Kasen;Wait, did you say fight?",
            "speak;Reimu;I mean, gotta make a conquest one way or another, right? The medicine'll just be an|extra objective.",
            "transition;close",
            "change_background",
            "transition;open",
            "set_next_chapter;2"
        ]
    },
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "2",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;hireable_guys;v('hireable_guys') + ['Yuna','Yuika']",
            "add_base_convo;Fog",
            "add_market_item;Torch",
            "trigger_script;Housekeeping",
            "base;Backwoods (Night);{e:};Mercenary Camp;True;Global Mercenary_Camp",
            "enable_fog_of_war;t",
            "set_fog_of_war;thracia;5;5;5",
            "add_talk;Marisa;Mystia",
            "add_talk;Reimu;Mystia",
            "add_talk;Mystia;Wriggle",
            "prep;1"
        ]
    },
    {
        "name": "Armory",
        "trigger": "Armory",
        "level_nid": "5",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "shop;{unit};Iron Sword,Slim Sword,Steel Sword,Iron Lance,Slim Lance,Steel Lance,Iron Axe,Steel Axe,Iron Bow,Steel Bow",
            "transition;Open"
        ]
    },
    {
        "name": "Vendor",
        "trigger": "Vendor",
        "level_nid": "5",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "shop;{unit};Heal,Vulnerary,Fire,Shine;Vendor",
            "transition;Open"
        ]
    },
    {
        "name": "Village1",
        "trigger": "Visit",
        "level_nid": "2",
        "condition": "region.nid == 'Village1' ",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "if;game.turncount < 7",
            "add_portrait;Mokou;Left",
            "add_portrait;{unit1};Right",
            "speak;Mokou;Hm? What are you doing here? I'd rather not be bothered right now. Here, take this.",
            "transition;close",
            "multi_remove_portrait;Mokou;{unit1}",
            "change_background",
            "transition;open",
            "give_bexp;200;no_banner",
            "give_item;{unit};Thunder",
            "has_traded;{unit}",
            "show_layer;Village1",
            "else",
            "add_portrait;{unit1};Right",
            "speak;{unit1};What's this?",
            "transition;close",
            "remove_portrait;{unit1}",
            "change_background",
            "transition;open",
            "give_item;{unit};Thunder",
            "give_bexp;50;no_banner",
            "has_traded;{unit}",
            "show_layer;Village1",
            "end"
        ]
    },
    {
        "name": "Village1",
        "trigger": "Visit",
        "level_nid": "5",
        "condition": "region.nid == 'Village1'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;House",
            "transition;Open",
            "add_portrait;{unit};Right;no_block",
            "add_portrait;Tethys;Left",
            "speak;Tethys;Oh, hello.{br}Did you come to see me dance?|I'm sorry, but I just finished a few moments ago.{w}{clear}Oh, by the way...Would you be interested in one of these items?|A wealthy patron left me a small ransom in gifts after watching my performance.|You can sell one for gold if you'd like or use them to improve your skills.|I simply cannot carry all of this by myself, so please, take this one.|Wealth is useless if you can't use it to bring happiness to others, right?| Thanks for dropping by. Perhaps we'll meet again someday.",
            "transition;Close",
            "change_background",
            "transition;Open",
            "give_item;{unit};Dragonshield",
            "show_layer;Village1",
            "has_traded;{unit}"
        ]
    },
    {
        "name": "Village2",
        "trigger": "Visit",
        "level_nid": "5",
        "condition": "region.nid == 'Village2'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;House",
            "transition;Open",
            "add_portrait;{unit};Right;no_block",
            "add_portrait;Man2;Left",
            "speak;Man2;Life in Serafew's been harder since the Grado occupation force took over here.|Serafew's got Renais citizens as well as Grado, but it's been hardest on us.|They've singled out families from Renais for the most awful atrocities.{w}{clear}Please, traveler, take this sword.|It's an armorslayer. It'll cut through even the strongest armor.|Take it and strike down that blackheart, Saar.",
            "transition;Close",
            "change_background",
            "transition;Open",
            "give_item;{unit};Armorslayer",
            "show_layer;Village2",
            "has_traded;{unit}"
        ]
    },
    {
        "name": "Village3",
        "trigger": "Visit",
        "level_nid": "5",
        "condition": "region.nid == 'Village3'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;House",
            "transition;Open",
            "add_portrait;{unit};Right;no_block",
            "add_portrait;OldMan1;Left",
            "speak;OldMan1;In my youth, I was a knight of some renown, I'll have you know.|I've even crossed blades with one of Grado's most famous generals, I have.|Ah, but I'm an old man now...|I'm starting to worry... What if I die without passing on my techniques?|So I decided to write down what I've learned in a book. I have it here.|You seem like a strong warrior. I'd be honored if you would accept it.",
            "transition;Close",
            "change_background",
            "transition;Open",
            "give_item;{unit};Secret Book",
            "show_layer;Village3",
            "has_traded;{unit}"
        ]
    },
    {
        "name": "Village4",
        "trigger": "Visit",
        "level_nid": "5",
        "condition": "region.nid == 'Village4'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;House",
            "transition;Open",
            "add_portrait;Amelia;Left",
            "speak;Amelia;Hope everyone's well back home in Silva. Just a bit more, and I'll be in the empire.|Let's see, I've got vulneraries, antitoxins...|Oh! And I can't let myself forget torches for when it gets dark.|Yep! I'm all set!{br}Now I just need to get to the capital.|I'll be the finest soldier the Grado army's ever seen! I swear it!",
            "remove_portrait;Amelia",
            "add_portrait;{unit};Right",
            "speak;{unit};Hm... What's this?",
            "transition;Close",
            "change_background",
            "transition;Open",
            "give_item;{unit};Torch",
            "show_layer;Village4",
            "has_traded;{unit}"
        ]
    },
    {
        "name": "NatashaJoshuaTalk",
        "trigger": "on_talk",
        "level_nid": "5",
        "condition": "unit.nid == 'Natasha' and unit2.nid == 'Joshua'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Natasha;Left;no_block",
            "add_portrait;Joshua;Right",
            "speak;Natasha;You...You're that man I met...|Are you here to capture me? You've been hired to silence me, haven't you...",
            "speak;Joshua;Yeah, Grado's paying the bill.{br}They want you dead, you know?|But don't feel bad. It's not personal.",
            "speak;Natasha;Wait, please...|It doesn't matter what happens to me, but you must hear my words.|The emperor of Grado is changed.{br}He is not the man he once was.|The other nations must be warned before he extinguishes all light from out lands.",
            "speak;Joshua;Hey, no offense, but I'm just a mercenary. I don't care about Grado or its emperor.|Everything you say may be true, or it may be lies. I don't care either way.",
            "speak;Natasha;But that's...",
            "speak;Joshua;Even so...Killing a beautiful lady like you would leave a bad taste in my mouth.{w}{clear}Tell me, do you like to gamble?",
            "speak;Natasha;What?!",
            "speak;Joshua;Gambling's what I live for. Even when I lose, I never want to stop.|Let's have us a little wager.{br}If you win, I'll believe you.|Heads or tails, you call it.",
            "speak;Natasha;You can't...{br}This is no time for games...",
            "speak;Joshua;Would you rather I get on with the job I was hired for?",
            "speak;Natasha;......{br}Um, heads...|No! Tails!",
            "speak;Joshua;All right. So I'm heads, and you're tails.|Here we go.|... ... ...",
            "speak;Natasha;......{br}Which...Which is it?",
            "speak;Joshua;What do you know?!{w}{clear}It's tails. You win. Figures. I haven't won anything all day.|Well, Lady Luck has spoken.{br}Guess I'm on your side now.",
            "speak;Natasha;Are you serious?",
            "speak;Joshua;Yeah. Sure, I might cheat, but I never worm out of a bet. It's a rule of mine.",
            "speak;Natasha;Oh, thank heaven! Thank you, blessed light, for your protection!",
            "speak;Joshua;I got nothing against heaven, but I'm right here if you want someone to thank...|No? Well, get behind me then. I've got to take care of these fools.",
            "remove_portrait;Natasha;no_block",
            "remove_portrait;Joshua",
            "change_team;Joshua;player"
        ]
    },
    {
        "name": "Turn8",
        "trigger": "turn_change",
        "level_nid": "2",
        "condition": "game.turncount == 8",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_group;Rein1;Rein1;fade;closest",
            "end"
        ]
    },
    {
        "name": "Turn9",
        "trigger": "turn_change",
        "level_nid": "2",
        "condition": "game.turncount == 9",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_group;Rein2;Rein2;fade;closest",
            "end"
        ]
    },
    {
        "name": "Turn6",
        "trigger": "turn_change",
        "level_nid": "2",
        "condition": "game.turncount == 6",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_group;Rein3;Rein3;fade;closest",
            "end"
        ]
    },
    {
        "name": "Turn9_1",
        "trigger": "turn_change",
        "level_nid": "2",
        "condition": "game.turncount == 9",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_group;Mokou;Mokou;fade;closest",
            "move_cursor;Mokou_NPC",
            "flicker_cursor;Mokou_NPC",
            "add_portrait;Mokou;Left",
            "speak;Mokou;Alright! Who the hell is making this much noise at this time! I'm gonna burn you all to a crisp!",
            "remove_portrait;Mokou",
            "level_var;MokouOut;1",
            "end"
        ]
    },
    {
        "name": "FightWriggle",
        "trigger": "combat_start",
        "level_nid": "2",
        "condition": "(unit.nid == \"Wriggle\" and unit2.team == 'player') or (unit2.nid == \"Wriggle\" and unit.team == 'player')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Wriggle;Left",
            "speak;Wriggle;You know...this doesn't seem like a good idea now.",
            "remove_portrait;Wriggle"
        ]
    },
    {
        "name": "FightMystia",
        "trigger": "combat_start",
        "level_nid": "2",
        "condition": "(unit.nid == \"Mystia\" and unit2.team == 'player') or (unit2.nid == \"Mystia\" and unit.team == 'player')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Mystia;Left",
            "speak;Mystia;Ack! Away! Away!",
            "remove_portrait;Mystia"
        ]
    },
    {
        "name": "Outro",
        "trigger": "level_end",
        "level_nid": "2",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "set_next_chapter;3"
        ]
    },
    {
        "name": "Test",
        "trigger": "level_start",
        "level_nid": "DEBUG",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "#level_var;_fog_of_war;1",
            "#level_var;_fog_of_war_radius;3",
            "#level_var;_ai_fog_of_war_radius;5",
            "add_lore;Eirika",
            "add_base_convo;Dreams of Home",
            "add_weather;rain",
            "game_var;_supports;True",
            "#trigger_script;Trigger",
            "base;Clearing",
            "#music;Attack;2000",
            "#wait;5000",
            "#music;Armory;2000",
            "#wait;5000",
            "#music;Attack;2000",
            "#wait;5000",
            "#music;None;2000",
            "#wait;5000",
            "#music;Attack;2000",
            "#wait;5000"
        ]
    },
    {
        "name": "DestroyVillage1",
        "trigger": "Destructible",
        "level_nid": "2",
        "condition": "region.nid == 'DestroyVillage1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "flicker_cursor;15,19",
            "show_layer;Ruin1",
            "wait;500"
        ]
    },
    {
        "name": "DestroyVillage1",
        "trigger": "Destructible",
        "level_nid": "5",
        "condition": "region.nid == 'Village1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "flicker_cursor;{position}",
            "show_layer;Ruin1",
            "wait;500"
        ]
    },
    {
        "name": "DestroyVillage2",
        "trigger": "Destructible",
        "level_nid": "5",
        "condition": "region.nid == 'Village2'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "flicker_cursor;{position}",
            "show_layer;Ruin2",
            "wait;500"
        ]
    },
    {
        "name": "DestroyVillage3",
        "trigger": "Destructible",
        "level_nid": "5",
        "condition": "region.nid == 'Village3'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "flicker_cursor;{position}",
            "show_layer;Ruin3",
            "wait;500"
        ]
    },
    {
        "name": "DestroyVillage4",
        "trigger": "Destructible",
        "level_nid": "5",
        "condition": "region.nid == 'Village4'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "flicker_cursor;{position}",
            "show_layer;Ruin4",
            "wait;500"
        ]
    },
    {
        "name": "Turn2",
        "trigger": "turn_change",
        "level_nid": "DEBUG",
        "condition": "game.turncount == 2",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "change_team;Bone;player",
            "game_var;EirikaSupport;True"
        ]
    },
    {
        "name": "Armory",
        "trigger": "Armory",
        "level_nid": "DEBUG",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "shop;{unit};Iron Sword,Slim Sword,Iron Lance,Slim Lance,Iron Axe;armory",
            "transition;Open"
        ]
    },
    {
        "name": "Rout",
        "trigger": "combat_end",
        "level_nid": "2",
        "condition": "len(game.get_enemy_units()) == 0",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "win_game"
        ]
    },
    {
        "name": "Rout (1)",
        "trigger": "combat_end",
        "level_nid": "DEBUG",
        "condition": "len(game.get_enemy_units()) == 0",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "win_game"
        ]
    },
    {
        "name": "Door1",
        "trigger": "Door",
        "level_nid": "DEBUG",
        "condition": "region.nid == 'Door1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "give_item;{unit};Iron Sword"
        ]
    },
    {
        "name": "Chest1",
        "trigger": "Chest",
        "level_nid": "3",
        "condition": "region.nid == 'Chest1'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest1",
            "give_item;{unit};Javelin"
        ]
    },
    {
        "name": "Chest4",
        "trigger": "Chest",
        "level_nid": "3",
        "condition": "region.nid == 'Chest4'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest4",
            "give_item;{unit};Yukkuri_R"
        ]
    },
    {
        "name": "Chest5",
        "trigger": "Chest",
        "level_nid": "3",
        "condition": "region.nid == 'Chest5'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest4",
            "give_item;{unit};Heavy_Bow"
        ]
    },
    {
        "name": "Chest3",
        "trigger": "Chest",
        "level_nid": "3",
        "condition": "region.nid == 'Chest3'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest3",
            "give_item;{unit};Maple_Shield"
        ]
    },
    {
        "name": "Chest2",
        "trigger": "Chest",
        "level_nid": "3",
        "condition": "region.nid == 'Chest2'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest2",
            "give_item;{unit};Mend"
        ]
    },
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "3",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;hireable_guys;v('hireable_guys') + ['Miu','Akane']",
            "trigger_script;Housekeeping",
            "add_unit;Sunny",
            "add_unit;Star",
            "add_unit;Luna",
            "add_lore;Lockpicking",
            "base;Backwoods (Night);{e:};Mercenary Camp;True;Global Mercenary_Camp",
            "enable_fog_of_war;t",
            "set_fog_of_war;thracia;3;3;3",
            "prep;1"
        ]
    },
    {
        "name": "Turn3",
        "trigger": "turn_change",
        "level_nid": "3",
        "condition": "game.turncount == 3",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_group;Thief1;Thief1;fade;closest",
            "move_cursor;14,17"
        ]
    },
    {
        "name": "Outro",
        "trigger": "level_end",
        "level_nid": "3",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;game.check_alive('Neimi') and game.check_alive('Colm')",
            "# Just in case",
            "change_team;Colm;player",
            "transition;Close",
            "change_background;Ruins",
            "transition;Open",
            "add_portrait;Neimi;Left",
            "speak;Neimi;C-Colm....",
            "add_portrait;Colm;Right",
            "speak;Colm;What now? I told you not to worry.|I could've robbed these bandits blind on my own, thank you very much.",
            "speak;Neimi;I was...{br}worried...",
            "speak;Colm;H-Hold on! I'm sorry!{br}C'mon! Don't start bawling!",
            "speak;Neimi;Aaah...sniff...|No more...dangerous stuff... by yourself...",
            "speak;Colm;Fine, fine. I promise.|But you have to stop crying all the time. All right?",
            "speak;Neimi;Uh-huh...",
            "speak;Colm;Oh, yeah. Take a look at this.",
            "move_portrait;Colm;MidRight",
            "speak;Neimi;Hm?",
            "move_portrait;Neimi;MidLeft",
            "speak;Colm;I got your mirror back.|Remember how you cried when we left Lark? You thought you'd lost this.|I knew it was your mother's, and I knew those thugs had taken it.|So I went and got it back!|See what happens when you give me a job? Guaranteed results!",
            "expression;Neimi;CloseEyes",
            "speak;Neimi;Colm...|Aa...Waaah...{br}Colm...",
            "speak;Colm;Hey wh-why are you crying this time?|C'mon! Stop! Knock it off! Please, Neimi...",
            "# Seth appears",
            "add_portrait;Seth;FarLeft",
            "speak;Seth;...This is quite touching, but...|I think you'd best return Princess Eirika's bracelet to her now.",
            "remove_portrait;Neimi",
            "add_portrait;Neimi;FarRight",
            "move_portrait;Colm;MidLeft",
            "speak;Colm;Wh-what are you talking about?{br}Are you trying to say that I--",
            "move_portrait;Seth;Left",
            "bop_portrait;Colm",
            "speak;Colm;Whoa! Whoa there! Hold it! It's right here! Take it!",
            "move_portrait;Colm;MidRight",
            "speak;Seth;......|Tell me, boy, is this the path you've chosen for your life?|If this girl matters to you, you must quit this dark road.",
            "speak;Colm;Uh, yeah...Right.",
            "speak;Seth;We're leaving. Do not expect to be rescued again.|Farewell.",
            "speak;Colm;...Hey, wait!|Let us go with you. You can't just leave us here.",
            "speak;Seth;Pardon?",
            "speak;Colm;Neimi and I... We've got no home to return to.|No matter where we go, there's just gonna be more fighting.|You're mercenaries, right?{br}Well, then take us with you.|I'm a handy guy to have around. I know I can help you out.",
            "speak;Seth;I would prefer not, but I'll agree with Eirika's decision.|Our duty is a grave one however. We've no time to waste shepherding you.",
            "speak;Colm;That's fine with us.|You just wait--I promise you won't regret your decision.",
            "remove_portrait;Seth;no_block",
            "remove_portrait;Colm;no_block",
            "remove_portrait;Neimi",
            "end_skip",
            "end",
            "transition;Close",
            "# Eirika and Seth talk",
            "change_background;CastleRuins",
            "transition;Open",
            "add_portrait;Eirika;Left;no_block",
            "add_portrait;Seth;Right",
            "speak;Seth;I retrieved your bracelet from the bandit's stronghold.|Here you are, Princess.",
            "speak;Eirika;Thank you, Seth.|You know...Father gave me this bracelet when I was a child.|It has only one match in the world, and my brother wears it.",
            "speak;Seth;Lady Eirika, you must take care never to lose that bracelet.|It is the proof that King Fado entrusted the future of Renais to you, his children.",
            "speak;Eirika;Seth...What is it you're not telling me?",
            "speak;Seth;...I apologize, Your Highness.|When the time comes, I will tell you what I know. Until then, I...",
            "speak;Eirika;I see.|If you tell me it must wait, then it can wait. I trust you.",
            "speak;Seth;Then we should get moving again.|We're safe from bandits for now, but I can't guarantee for how long.",
            "speak;Eirika;This... This is just the beginning, isn't it?|If we hope to free our homeland, it will take battle after battle...",
            "speak;Seth;I'm afraid so, Your Highness.|The day you and Prince Ephraim win back the freedom and honor of Renais will come.|But I fear it lies at the end of a long and treacherous road.",
            "speak;Eirika;I know. I must fight for that day.|In the names of all those I could not save, I'll lead us home.|Let's go. My brother awaits!",
            "remove_portrait;Eirika;no_block",
            "remove_portrait;Seth",
            "transition;Close;1000",
            "# Load submap",
            "end_skip",
            "change_tilemap;Grado Keep",
            "change_background",
            "transition;Open;1000",
            "location_card;Grado Keep",
            "flicker_cursor;10,4",
            "transition;Close;250",
            "change_background;GradoCastle",
            "transition;Open",
            "add_portrait;Glen;MidLeft;no_block",
            "add_portrait;Duessel;FarLeft;no_block",
            "add_portrait;Selena;Right",
            "speak;Selena;General Duessel.",
            "speak;Duessel;Selena. Have you been back long?|Tell me, how fares the campaign in Renais?",
            "speak;Selena;Signs of chaos abound.|Brigands ride without fear, and the peasant's cries fill the air.",
            "speak;Duessel;Hmm...|If Grado's troops do not enforce public order, the situation will only worsen.|And still, His Majesty has given us no orders.|Perhaps, just this once, I should take the lead...",
            "speak;Glen;What could His Majesty be thinking?|Breaking our long-held alliance with Renais--invading without warning...|He's never been this way before. He abhors violence.;low_priority",
            "speak;Selena;......",
            "speak;Glen;And have you noticed the recent promotions? Who are they are going to?|Certainly not to the soldiers who have Grado's best interests at heart.|I feel this invasion is the prelude to a much larger war.|I feel as though His Majesty is no longer the man we knew him to be.",
            "speak;Selena;Glen, it doesn't matter what any of us might think of our orders.|We are his servants, and we will not question His Majesty's intentions.",
            "speak;Glen;I know that, Selena. And yet...",
            "speak;Duessel;That's enough. Both of you. His Majesty summons us.|Let's hope we can learn a little during our audience.",
            "multi_remove_portrait;Duessel;Glen;Selena",
            "transition;Close",
            "end_skip",
            "# Load submap again",
            "change_tilemap;Chapter 14B",
            "# Load the units that are necessary to display for cutscene",
            "load_unit;Vigarde;enemy",
            "load_unit;Valter;enemy",
            "load_unit;Riev;enemy",
            "load_unit;Caellach;enemy",
            "make_generic;Glen;Wyvern Lord;1;enemy",
            "load_unit;Duessel;enemy",
            "load_unit;Selena;enemy",
            "load_unit;Lyon;enemy",
            "add_unit;Vigarde;14,2;immediate",
            "add_unit;Glen;13,5;immediate",
            "add_unit;Duessel;14,5;immediate",
            "add_unit;Selena;15,5;immediate",
            "add_unit;Lyon;15,3;immediate",
            "center_cursor;Vigarde;immediate",
            "change_background",
            "transition;Open",
            "flicker_cursor;Vigarde",
            "add_portrait;Vigarde;Left",
            "speak;Vigarde;...I appreciate your work in fulfilling your previous orders.|You are the hammers that drive the nails of the empire's will...|You will continue to operate{br}...without hesitation...|wherever I send you.",
            "add_portrait;Duessel;Right",
            "speak;Duessel;By your command.",
            "remove_portrait;Duessel",
            "add_portrait;Selena;Right",
            "speak;Selena;In Your Majesty's name.",
            "remove_portrait;Selena",
            "add_portrait;Glen;Right",
            "speak;Glen;Yes, sire...",
            "remove_portrait;Glen",
            "speak;Vigarde;...However, I know this...|You, my Imperial Three, lack the strength to conquer the remaining nations alone.|In the invasion of Renais, certain soldiers performed beyond expectation.|I have chosen them to join you as new generals in the empire's service.|...Come.",
            "remove_portrait;Vigarde",
            "end_skip",
            "# Do map stuff",
            "show_layer;TopDoor",
            "move_unit;Glen;12,5;no_block;no_follow",
            "move_unit;Selena;16,5;no_block;no_follow",
            "move_unit;Duessel;12,4;no_follow",
            "add_unit;Valter;13,11;immediate",
            "add_unit;Riev;14,11;immediate",
            "add_unit;Caellach;15,11;immediate",
            "move_unit;Valter;13,5;no_block;no_follow",
            "move_unit;Riev;14,5;no_block;no_follow",
            "move_unit;Caellach;15,5;no_follow",
            "flicker_cursor;Vigarde",
            "# Back to dialogue",
            "add_portrait;Vigarde;Left",
            "speak;Vigarde;...The performance of these men surpassed even your own.|With the addition of these three...|The empire will have six generals strong enough to conquer this land.|Do you understand?",
            "remove_portrait;Vigarde",
            "add_portrait;Riev;Right",
            "speak;Riev;Heh heh heh...|I am Riev, given the name Blood Beryl by His Majesty.|I know I am a newcomer, but I pray for your favor.",
            "add_portrait;Duessel;Left",
            "speak;Duessel;...Understood.",
            "remove_portrait;Duessel",
            "remove_portrait;Riev",
            "add_portrait;Caellach;Right",
            "speak;Caellach;I'm Caellach. I was a mercenary, fighting in the desert.|Seems I'm to be called Tiger Eye...|You're a fine lookin' lass, aren't you? Yeah, I'm gonna love working with you.",
            "add_portrait;Selena;Left",
            "speak;Selena;......",
            "remove_portrait;Selena",
            "remove_portrait;Caellach",
            "add_portrait;Valter;Right",
            "speak;Valter;So we meet again. You know me as General Valter, but you will call me the Moonstone.|I'll save you worthless dogs from your own incompetence. You'll thank me later.",
            "add_portrait;Glen;OffscreenLeft;immediate",
            "move_portrait;Glen;FarLeft",
            "speak;Glen;Valter... You scum!",
            "add_portrait;Duessel;MidLeft",
            "speak;Duessel;Peace, Glen.",
            "remove_portrait;Duessel",
            "remove_portrait;Glen",
            "remove_portrait;Valter",
            "add_portrait;Vigarde;Left",
            "speak;Vigarde;Selena. Caellach. You will bring me Frelia.",
            "add_portrait;Caellach;FarRight;no_block",
            "add_portrait;Selena;MidRight",
            "speak;Selena;Yes, sire.",
            "speak;Caellach;Sure. Good as done.",
            "remove_portrait;Selena",
            "remove_portrait;Caellach",
            "speak;Vigarde;Riev. Duessel. You are charged with the defense of the empire.|...I will speak to you individually with more details later.",
            "add_portrait;Duessel;FarRight;no_block",
            "add_portrait;Riev;MidRight",
            "speak;Riev;Heh heh heh...{br}Understood, Your Majesty.",
            "speak;Duessel;By your command, sire.",
            "remove_portrait;Duessel",
            "remove_portrait;Riev",
            "add_portrait;Valter;MidRight",
            "speak;Valter;And me?",
            "speak;Vigarde;Valter, Glen...{br}I have other duties for you...",
            "add_portrait;Glen;FarRight",
            "speak;Glen;Yes, Your Majesty?",
            "speak;Vigarde;Renais has fallen, but Princess Eirika still eludes us...|Her brother, Prince Ephraim, leads a resistance within our borders.|Bring the siblings to me.",
            "speak;Valter;Ha ha.. Of course.",
            "remove_portrait;Vigarde",
            "speak;Glen;......",
            "remove_portrait;Glen;no_block",
            "remove_portrait;Valter",
            "transition;Close"
        ]
    },
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "4",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;hireable_guys;v('hireable_guys') + ['Kana','Haruka']",
            "trigger_script;Housekeeping",
            "level_var;GreenEscaped;0",
            "base;Backwoods (Night);{e:};Mercenary Camp;True;Global Mercenary_Camp",
            "add_talk;Wriggle;Cirno",
            "add_talk;Wriggle;Daiyousei",
            "add_talk;Mystia;Cirno",
            "add_talk;Mystia;Daiyousei",
            "add_talk;Rumia;Cirno",
            "add_talk;Rumia;Daiyousei",
            "enable_fog_of_war;t",
            "set_fog_of_war;thracia;7;7;7",
            "prep;1"
        ]
    },
    {
        "name": "Turn2",
        "trigger": "turn_change",
        "level_nid": "5",
        "condition": "game.turncount == 2",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "center_cursor;14,16",
            "add_group;Brigand1;Brigand1",
            "flicker_cursor;14,16",
            "add_portrait;Bandit1;FarRight",
            "speak;Bandit1;Look at this. Now's our chance!|C'mon, lads!|Let's join the fights and steal our way through this pathetic town!",
            "remove_portrait;Bandit1"
        ]
    },
    {
        "name": "Turn4",
        "trigger": "turn_change",
        "level_nid": "5",
        "condition": "game.turncount == 4",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "center_cursor;14,7",
            "add_group;Brigand2;Brigand2"
        ]
    },
    {
        "name": "Turn8",
        "trigger": "turn_change",
        "level_nid": "5",
        "condition": "game.turncount == 8",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "center_cursor;14,0",
            "add_group;Brigand3;Brigand3"
        ]
    },
    {
        "name": "Outro",
        "trigger": "level_end",
        "level_nid": "4",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;Forest",
            "transition;Open",
            "if;game.check_alive('Artur') or game.check_alive('Lute')",
            "add_portrait;Seth;MidLeft;no_block",
            "add_portrait;Eirika;FarLeft;no_block",
            "if;game.check_dead('Artur')",
            "add_portrait;Lute;Right",
            "elif;game.check_dead('Lute')",
            "add_portrait;Artur;Right",
            "else",
            "add_portrait;Artur;MidRight;no_block",
            "add_portrait;Lute;FarRight",
            "end",
            "else",
            "add_portrait;Seth;Right;no_block",
            "add_portrait;Eirika;Left",
            "end",
            "speak;Seth;We've killed all the monsters.|Still, we'd best burn the bones to ash to be sure they don't return.;low_priority",
            "speak;Eirika;I still can't believe what we've been fighting here...|I'd thought those fiends nothing more than myth and legend.",
            "speak;Seth;Those revenants are said to be the least of the dark creatures.|And yet, the weakest of them could outmatch any normal man.|We cannot take this enemy lightly.;low_priority",
            "if;game.check_alive('Lute')",
            "speak;Lute;Oh, yes. There are much worse then those revenants and the entombed...|Let's see, there's the bonewalkers, mauthe doogs, gargoyles, baels... |Why, I'll bet you just about any creature of lore could be walking again.|Yes, we're in for some trouble. Even my fabulous power may not be enough.",
            "end",
            "if;game.check_alive('Artur')",
            "speak;Artur;O divine light, show me... Is this a sign of dark days to come?;low_priority",
            "end",
            "remove_portrait;Lute",
            "remove_portrait;Artur",
            "if;game.check_alive('Artur') or game.check_alive('Lute')",
            "remove_portrait;Seth",
            "move_portrait;Eirika;Left",
            "speak;Eirika;By all that's holy, what is happening?",
            "add_portrait;Seth;Right",
            "else",
            "speak;Eirika;By all that's holy, what is happening?",
            "end",
            "speak;Seth;Princess Eirika, perhaps it would be wise to return to Frelia and regroup.|Pressing forward seems foolish in light of recent events.|We cannot face both Grado's forces and more of those terrible things.",
            "speak;Eirika;Seth, I follow your point, and nothing would please me more then running for safety.|But what of my brother? He and his men are still trapped in the same situation we are.|I know full well that I may be leading us into even greater danger, but...|Please try to understand.",
            "speak;Seth;I do, my princess, and I vow to see you through this safely.",
            "remove_portrait;Seth;no_block",
            "remove_portrait;Eirika",
            "transition;Close",
            "change_background",
            "add_unit;Eirika;8,5;immediate",
            "add_unit;Seth;8,4;immediate",
            "transition;Open",
            "# (L'arachel and her gang rides up)",
            "# remove all units",
            "add_group;LGang;14,5;;stack",
            "move_group;LGang;LGang",
            "flicker_cursor;L'arachel",
            "transition;close",
            "change_background;Clearing",
            "transition;Open",
            "add_portrait;Eirika;Left",
            "add_portrait;L'arachel;OffscreenRight;immediate",
            "move_portrait;L'arachel;MidRight",
            "speak;L'arachel;Aha! Foul creatures, beware!|I, L'arachel, bestow upon you the honor at banishment at my blessed hands!",
            "speak;Eirika;......",
            "speak;L'arachel;Oh...Where are the monsters?",
            "speak;Eirika;Well, we just finished...",
            "speak;L'arachel;Ah, glad tidings indeed!{br}The heavens must be rejoicing!|I am...a tad disappointed however.|After all, I did rush all the way here to show you the splendor of my might.",
            "add_portrait;Dozla;FarRight",
            "speak;Dozla;Gwah ha ha! It's a real shame, innit, Lady L'Arachel?!",
            "remove_portrait;Dozla",
            "add_portrait;Rennac;FarRight",
            "speak;Rennac;What's shameful is the way you drag us around the countryside.",
            "remove_portrait;Rennac",
            "speak;Eirika;Pardon me, but...who are you?",
            "speak;L'arachel;Me?|Since you ask, please allow me to introduce myself.|It is I, the true light and glory of the sacred realm of Rausten...",
            "add_portrait;Dozla;FarRight",
            "speak;Dozla;Stop! Lady L'arachel, you mustn't continue!|You cannot reveal your true identity here!",
            "speak;L'arachel;Oh, yes, you're right. Oh, I get so careless sometimes!|Now, I must ride off in anonymity. Oh, how beautifully romantic!",
            "speak;Eirika;Uh... Right.",
            "speak;L'arachel;Fare thee well, strangers.{br}Perhaps our paths will cross again.|Come, Dozla! Rennac!{br}We ride!",
            "remove_portrait;L'arachel",
            "speak;Dozla;Gwah ha ha!{br}Let's go, Rennac!",
            "remove_portrait;Dozla",
            "add_portrait;Rennac;FarRight",
            "speak;Rennac;All right, all right.",
            "remove_portrait;Rennac",
            "# (They leave)",
            "speak;Eirika;...What was that about?"
        ]
    },
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "5",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "chapter_title",
            "change_background;Village",
            "remove_all_units",
            "add_unit;Joshua;9,6;immediate",
            "transition;Open",
            "add_portrait;Joshua;Left",
            "speak;Joshua;Well, well. There's an arena in this town.|Perfect. My pocket's feeling a bit light.",
            "speak;Joshua;Say, is that a cleric? It is!{br}And a gorgeous one at that.",
            "remove_portrait;Joshua",
            "transition;Close",
            "change_background",
            "center_cursor;9,9;immediate",
            "transition;Open",
            "# (Natasha runs past Joshua)",
            "add_unit;Natasha;9,16;immediate",
            "move_unit;Natasha;9,8",
            "move_unit;Joshua;9,7",
            "flicker_cursor;Joshua",
            "transition;Close",
            "change_background;Village",
            "transition;Open",
            "add_portrait;Natasha;Left",
            "move_portrait;Natasha;MidRight",
            "add_portrait;Joshua;Left",
            "speak;Joshua;Something amiss, Sister?{br}You look flustered.",
            "bop_portrait;Natasha",
            "speak;Natasha;Ahhh!",
            "remove_portrait;Natasha",
            "add_portrait;Natasha;Right",
            "speak;Natasha;P-pardon me.",
            "speak;Joshua;No, pardon me! I never meant to startle you.|May I offer my apologies....",
            "speak;Natasha;No, it's not necessary...{br}It was my fault.|Excuse me, I must be going...{br}Good day to you.",
            "# (Natasha leaves)",
            "remove_portrait;Natasha",
            "speak;Joshua;...And there she goes.|Not my lucky day...{br}She was quite the beauty, too.|Ah, such is life. I think I've time still to visit the arena, though.",
            "remove_portrait;Joshua",
            "transition;Close",
            "end_skip",
            "change_background",
            "remove_all_units",
            "# (View moves north, Glen is talking to Saar)",
            "add_unit;Saar;9,7;immediate",
            "load_unit;Cormag;enemy",
            "add_unit;Cormag;8,10;immediate",
            "make_generic;Glen;Wyvern Lord;1;enemy",
            "add_unit;Glen;9,9;immediate",
            "transition;Open",
            "flicker_cursor;Glen",
            "transition;Close",
            "change_background;Village",
            "transition;Open",
            "add_portrait;Saar;Left;no_block",
            "add_portrait;Glen;Right",
            "speak;Glen;Captain Saar of the Serafew Border Guard. How fare you?|I bring orders from His Majesty.|Rumor has it that Princess Eirika of Renais is making her way to Grado.|You are to find her and to place her in custody immediately.",
            "speak;Saar;Yes, sir!",
            "speak;Glen;One more thing...|A traitor to the empire has fled Castle Grado.|We've received reports she is hiding somewhere here in Serafew.|I don't care if you have to tear this town apart. Find the turncoat.",
            "speak;Saar;Yes, sir, General Glen!|If she resists, do we have permission to execute her?",
            "speak;Glen;...Yes. Permission granted.",
            "speak;Saar;Understood! Grado's will be done.|The Grado Empire will repay the debt of betrayal with blood!",
            "speak;Glen;...His Majesty relies upon you, Captain. Be sure his trust is not misplaced.|That is all.",
            "speak;Saar;Yes, sir!",
            "remove_portrait;Saar;no_block",
            "remove_portrait;Glen",
            "transition;Close",
            "change_background",
            "transition;Open",
            "# (Saar leaves, Cormag comes)",
            "move_unit;Saar;9,2;no_follow",
            "remove_unit;Saar;immediate",
            "move_unit;Cormag;8,9",
            "flicker_cursor;Glen",
            "transition;Close",
            "change_background;Village",
            "transition;Open",
            "add_portrait;Cormag;Left;no_block",
            "add_portrait;Glen;Right",
            "speak;Glen;Such loyalty to the crown.|If only I could hold such conviction in the righteousness of our emperor.",
            "speak;Cormag;Something troubling you, Brother?",
            "speak;Glen;No...Pay no mind to me.|Come, Cormag. Let's go.|From here, we ride northeast, back to the fort.",
            "speak;Cormag;Very well.",
            "multi_remove_portrait;Cormag;Glen",
            "transition;Close",
            "change_background",
            "transition;Open",
            "# (They fly off, replaces by Seth and Eirika, outside the town)",
            "move_unit;Glen;14,5;no_block;no_follow",
            "move_unit;Cormag;14,4;no_follow",
            "remove_unit;Glen",
            "remove_unit;Cormag",
            "transition;Close",
            "change_background;VillageGate",
            "transition;Open",
            "multi_add_portrait;Eirika;Left;Seth;Right",
            "speak;Eirika;It's been so long since I last visited Serafew.|My brother and I used to pass through here en route to Grado.|I remember the harmony in which the people of both countries lived.|No walls divided our borders. No soldiers stood guard in high towers.|The border town... It was to me a symbol of the trust between Grado and Renais.",
            "speak;Seth;...And now, it is firmly under the thumb of Grado's emperor.",
            "speak;Eirika;The peace I remember in this city...|It seems like something from another time. It seems lost now... Forever.",
            "speak;Seth;...The city doesn't seem to be very heavily patrolled.|They must feel it's not worth guarding with Castle Renais under their control.|We must try to not draw attention to ourselves. The west gate is undermanned....",
            "add_portrait;Saleh;OffscreenRight;immediate",
            "speak;Saleh;Pardon me, may I ask you a question?",
            "# (Saleh appears)",
            "remove_portrait;Seth",
            "move_portrait;Eirika;FarLeft",
            "add_portrait;Seth;MidLeft",
            "move_portrait;Saleh;Right",
            "speak;Eirika;What is it?",
            "speak;Saleh;I'm looking for someone.|Have you seen a young girl with indigo hair?",
            "speak;Eirika;Indigo hair?|No...Sorry.",
            "speak;Saleh;Hmmm...|Thank you. Sorry to intrude.",
            "# (Saleh leaves)",
            "multi_remove_portrait;Saleh;Eirika;Seth",
            "multi_add_portrait;Seth;FarLeft;Eirika;MidLeft",
            "speak;Eirika;There was something very odd about that man, wouldn't you say?",
            "speak;Seth;He did seem unusual. He didn't strike me as a Grado spy, but...",
            "add_portrait;SoldierRed;OffscreenRight;immediate",
            "speak;SoldierRed;Catch her! Don't let her escape!",
            "speak;SoldierRed;That way! She went that way!",
            "speak;Eirika;What's that?",
            "speak;Seth;It's coming from over there.",
            "speak;Eirika;Let's see what the commotion is.",
            "multi_remove_portrait;Seth;Eirika",
            "transition;Close",
            "end_skip",
            "change_background",
            "remove_all_units",
            "transition;Open",
            "add_unit;Natasha;10,3;immediate",
            "move_unit;Natasha;9,12",
            "center_cursor;9,10",
            "add_group;ThreeEnemies;ThreeEnemies;immediate",
            "move_group;ThreeEnemies;Starting;no_follow",
            "multi_add_portrait;Natasha;Left;SoldierRed;Right",
            "# (Screen goes to town, there are some soldiers surrounding Natasha)",
            "speak;SoldierRed;Traitor Natasha!{br}Surrender peacefully.|Come quietly, and you may have the chance to explain yourself before His Majesty.",
            "speak;Natasha;Wait, please.{br}You must listen to me!",
            "speak;SoldierRed;Take her.",
            "speak;Natasha;No, you must believe me!|The emperor is not himself. You MUST be able to see that!",
            "speak;SoldierRed;Impugn the emperor at your peril!|We've been ordered to execute you if you offer any resistance.|But your words condemn you!",
            "multi_remove_portrait;Natasha;SoldierRed",
            "end_skip",
            "spawn_group;EnemyTeam;North;Starting;;stack",
            "center_cursor;7,14",
            "add_unit;Eirika;0,16;immediate",
            "add_unit;Seth;0,15;immediate",
            "move_unit;Seth;5,15;no_block",
            "move_unit;Eirika;6,16",
            "flicker_cursor;Seth",
            "multi_add_portrait;Seth;FarLeft;Eirika;MidLeft",
            "speak;Eirika;That cleric is a traitor to the throne of Grado?|What madness is this?",
            "multi_remove_portrait;Seth;Eirika",
            "# (Natasha runs up to Eirika)",
            "move_unit;Natasha;6,15",
            "flicker_cursor;Eirika",
            "multi_add_portrait;Natasha;Left;Eirika;Right",
            "speak;Natasha;Ah...",
            "speak;Eirika;Are you all right?",
            "speak;Natasha;Who are you?",
            "speak;Eirika;I'm from Renais. Why are these Grado men after you?",
            "speak;Natasha;You're from Renais... Oh!|I have something I must tell you. It's about Grado--",
            "speak;Eirika;Wait--Grado soldiers are coming this way.|We'll have to talk later.{br}Now we must fight!",
            "multi_remove_portrait;Natasha;Eirika",
            "transition;Close",
            "move_unit;Eirika;;immediate",
            "move_unit;Natasha;;immediate",
            "remove_unit;Seth;immediate",
            "center_cursor;Eirika;immediate",
            "transition;Open",
            "end_skip",
            "prep;1",
            "# After prep, have Joshua appear",
            "center_cursor;12,6",
            "flicker_cursor;12,6",
            "add_unit;Joshua;12,6",
            "move_unit;Joshua",
            "flicker_cursor;Joshua",
            "add_portrait;Joshua;Right",
            "speak;Joshua;So much for my dreams of making my fortune here...|First the girl, now the gold.{br}It really isn't my lucky day.",
            "add_portrait;SoldierRed;Left",
            "speak;SoldierRed;You there! Mercenary! What are you doing here at the arena?|Get back to the staging area now!",
            "speak;Joshua;C'mon, why don't we both hit the arena?{br}It'll be good training.|If you're going to risk your life anyway, you may as well try to earn some gold.",
            "speak;SoldierRed;I'm reporting you to the captain! You'll be lucky if he just docks your pay!|Don't forget--You can be replaced in an eyeblink, you filthy sellsword!",
            "remove_portrait;SoldierRed",
            "speak;Joshua;Don't worry, little man.{br}I won't forget.|Work's work, but I don't like fighting women...|Now then, what's the rest of the day got in store for me?{w}{clear}...Tails huh? That's nothing but bad luck and more bad luck...",
            "remove_portrait;Joshua",
            "flicker_cursor;Natasha",
            "add_portrait;Natasha;Left",
            "speak;Natasha;They may not want to hear what I have to say, but...|I must speak with one of the Grado soldiers.|Oh, if only one of them will listen to my words...|Please! Grant me strength.",
            "remove_portrait;Natasha",
            "# Now actually start!",
            "add_talk;Natasha;Joshua"
        ]
    },
    {
        "name": "Outro",
        "trigger": "level_end",
        "level_nid": "5",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            ""
        ]
    },
    {
        "name": "Debug Setup",
        "trigger": "level_start",
        "level_nid": null,
        "condition": "cf.SETTINGS['debug']",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "# Give access to the convoy",
            "change_background;BlackBackground",
            "game_var;_convoy;True"
        ]
    },
    {
        "name": "Dreams of Home",
        "trigger": "on_base_convo",
        "level_nid": "DEBUG",
        "condition": "unit == 'Dreams of Home'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "multi_add_portrait;Eirika;Left;Seth;Right",
            "speak;Eirika;I miss home",
            "multi_remove_portrait;Eirika;Seth"
        ]
    },
    {
        "name": "Wait",
        "trigger": "unit_wait",
        "level_nid": "DEBUG",
        "condition": "True",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "if;False",
            "if;True",
            "speak;Joshua;Wow, such wait.",
            "elif;False",
            "speak;Joshua;No",
            "end",
            "end"
        ]
    },
    {
        "name": "Trigger",
        "trigger": null,
        "level_nid": "DEBUG",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Eirika;Left",
            "speak;Eirika;This is a test",
            "remove_portrait;Eirika"
        ]
    },
    {
        "name": "Summon Phantom",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;game.get_unit('Phantom')",
            "    resurrect;Phantom",
            "    remove_unit;Phantom;warp",
            "    autolevel_to;Phantom;{e:unit.level}",
            "else",
            "    make_generic;Phantom;Fighter;{e:unit.level};player;;Monster;;Iron Axe",
            "end",
            "add_unit;phantom;{eval:target_pos};warp",
            "wait;200",
            ""
        ]
    },
    {
        "name": "Summon Soldiers",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "make_generic;;Soldier;1;other;Pursue",
            "add_unit;{created_unit};{position};warp;closest",
            "make_generic;;Soldier;1;other;Pursue",
            "add_unit;{created_unit};{position};warp;closest",
            "make_generic;;Soldier;1;other;Pursue",
            "add_unit;{created_unit};{position};warp;closest",
            "make_generic;;Soldier;1;other;Pursue",
            "add_unit;{created_unit};{position};warp;closest",
            "wait;200"
        ]
    },
    {
        "name": "Support Gain",
        "trigger": "on_support",
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;item == 'C'",
            "alert;Reached rank C!",
            "elif;item == 'B'",
            "alert;Reached rank B!",
            "elif;item == 'A'",
            "alert;Reached rank A!",
            "else",
            "alert;Support increased!",
            "end"
        ]
    },
    {
        "name": "New Event",
        "trigger": "level_start",
        "level_nid": "DEBUG",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;_fatigue;1",
            "game_var;_turnwheel;True",
            "game_var;_max_turnwheel_uses;4",
            "game_var;_current_turnwheel_uses;4"
        ]
    },
    {
        "name": "Freebie",
        "trigger": "Secret!",
        "level_nid": "0",
        "condition": "region.nid == 'Freebie'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;Close",
            "change_background;HakureiShrine",
            "transition;open",
            "add_portrait;{unit};Left;no_block",
            "speak;{unit};Who left this here?",
            "transition;Close",
            "show_layer;Village2",
            "change_background",
            "transition;Open",
            "give_item;{unit};Stone_Bowl",
            "give_bexp;50",
            "has_traded;{unit}"
        ]
    },
    {
        "name": "Mercenary_Camp",
        "trigger": null,
        "level_nid": null,
        "condition": "",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "textbox;MercDescription;\"{d:MercenaryHiringList.{v:MercenaryHireChoice_choice_hover}.Description}|Cost: {d:MercenaryHiringList.{v:MercenaryHireChoice_choice_hover}.Cost}\";bottom_right;90;5;;0.5;;;menu_bg_parchment;expression",
            "table;GoldDisplay;str(game.get_money())+'G';Funds;Alignment=top_right;RowWidth=60;expression",
            "choice;MercenaryHireChoice;Hire a Merc;[merc.nid for merc in game.get_data('MercenaryHiringList')if merc.nid in v('hireable_guys')];Alignment=top_left;EntryType=type_unit;EventNid=Global ConfirmMercHire;persist;expression;Dimensions=6,1;scroll_bar"
        ]
    },
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "1",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "chapter_title",
            "change_background;River",
            "#Grassroots Time",
            "add_portrait;Sekibanki;CenterLeft",
            "add_portrait;Kagerou;CenterRight",
            "speak;Sekibanki;Dammit, Kagerou! You said the Human Village would be easy pickings! ",
            "speak;Kagerou;To be fair, I didn't expect their guardian to be just as good in martial prowess as|danmaku.",
            "speak;Sekibanki;Rrgh. Fine, we'll just avoid her and find some other way in. I knew we should've just laid|low.",
            "speak;Kagerou;You're the one who got us in on this in the first place! I just wanted to ride it out too!",
            "speak;Sekibanki;Never said that. You werewolves must've traded hearing for that sense of smell.",
            "speak;Kagerou;Hey! I'm a prime hunter, alright?",
            "speak;Sekibanki;Then use those skills to get us in there!",
            "add_portrait;Wakasagihime;FarLeft",
            "speak;Wakasagihime;Kagerou, Banki, we need to get out of here now!",
            "speak;Kagerou;What's the issue?",
            "speak;Wakasagihime;It's...it's the...*shudders*...Crimson Slasher...",
            "speak;Sekibanki;What?!",
            "speak;Wakasagihime;And the...the...",
            "speak;Kagerou;Who?!",
            "speak;Wakasagihime;That uh, blonde girl. Uh. ",
            "speak;Kagerou;Oh. Yeah. Her.",
            "speak;Sekibanki;Did we ever fight someone like that...or?",
            "speak;Wakasagihime;Nevermind that! We're doomed!",
            "speak;Sekibanki;Pssh, what can that shrine maiden do? Everybody's a bit more even now.",
            "speak;Kagerou;Banki's right! This is just the time we, the Grassroots Youkai Network, need to assert|our dominance!",
            "speak;Wakasagihime;Alright...I'll go hide in the water for a bit in wait.",
            "speak;Sekibanki;Great. I'll also be in the back here. Kagerou, why don't you take the head.",
            "speak;Kagerou;Huh?! Why me?",
            "speak;Sekibanki;You're such a good fighter, and I think fighters should take the head over us|weak...frail...",
            "speak;Kagerou;Oh, alright!",
            "multi_remove_portrait;Sekibanki;Kagerou;Wakasagihime",
            "#Reimu and Kasen Time",
            "add_portrait;Reimu;CenterLeft",
            "add_portrait;Marisa;FarLeft",
            "add_portrait;Kasen;CenterRight",
            "add_portrait;Remilia;FarRight",
            "speak;Reimu;Alright, we're here. What're we up against this time?",
            "speak;Marisa;Them youkai over already look pretty shifty to me. Guess my reputation's still strong, eh?",
            "speak;Reimu;You mean MY reputation. ",
            "speak;Remilia;Hmmm...those youkai over there don't seem like fighters to me, hehe.",
            "speak;Reimu;Spit it out. What's your theory.",
            "speak;Remilia;Fine, always spoiling a good moment, dear Reimu. I think the miracle mallet has run afoul|of us again.",
            "speak;Reimu;What's with the \"dears\" today?",
            "speak;Remilia;Do I not always talk like that?",
            "speak;Marisa;I remember last time! Those guys were all riled up 'n all by the mallet!",
            "speak;Kasen;Strange...the mallet is usually in the possession of that inchling, yet she's nowhere|to be seen.",
            "speak;Reimu;To be fair, I don't think you could see an inchling from here.",
            "speak;Marisa;Hey, ain't that Keine? We should probably help her out with fending off these youkai.",
            "speak;Reimu;I don't know, she seems perfectly fine without us.",
            "speak;Kasen;This will be a good time to garner allies, Reimu. Let's advance!",
            "speak;Reimu;Fine, exterminating pests is my job anyway.",
            "#Housekeeping Time",
            "transition;close",
            "multi_remove_portrait;Reimu;Kasen;Marisa;Remilia",
            "game_var;_base_market;1",
            "game_var;hireable_guys;['Tokiko','Letty','Kokoro','Miki','Tomomi','Konami','Kabin','Yae','Amane']",
            "add_talk;Reimu;Keine_NPC",
            "add_talk;Marisa;Keine_NPC",
            "add_talk;Keine_NPC;Reimu",
            "add_talk;Keine_NPC;Marisa",
            "add_talk;Reimu;Rumia",
            "for;MARKET_ENTRY;['Iron_Sword', 'Iron_Axe', 'Iron_Lance', 'Iron_Bow', 'Fire', 'Ofuda', 'Flux', 'Heal', 'Life_Gem', 'Poppet', 'Maple_Shield', 'Lucky_Clover', 'Lantern']",
            "    add_market_item;{MARKET_ENTRY}",
            "endf",
            "game_var;baseconvolist;['Advice', 'Market', 'Mercenaries', 'Funds', 'Suika', 'Rinnosuke', 'Kosuzu']",
            "trigger_script;Housekeeping",
            "add_lore;Reimu",
            "add_lore;Marisa",
            "add_lore;Kasen",
            "add_lore;Remilia",
            "add_lore;Aunn",
            "add_lore;Bonus_Experience",
            "add_lore;Villages",
            "add_lore;Fog_of_War",
            "add_lore;Base_Conversations",
            "base;River;{e:};Mercenary Camp;True;Global Mercenary_Camp",
            "change_background",
            "transition;open",
            "prep;1",
            "move_cursor;Keine_NPC",
            "add_portrait;Keine;CenterRight",
            "speak;Keine;I knew some youkai would make a move the second something like this happened. What a|pain. Listen here, you scum! I may not be able to erase history anymore, but I'll erase you|all the same!",
            "remove_portrait;Keine"
        ]
    },
    {
        "name": "ConfirmMercHire",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;u('{d:MercenaryHiringList.{v:MercenaryHireChoice}.nid}') in game.get_all_units_in_party()",
            "    add_portrait;Reimu;FarRight",
            "    speak;Reimu;Idiot. You can't hire the same person twice.",
            "    finish",
            "end",
            "if;game.get_money() < int({d:MercenaryHiringList.{v:MercenaryHireChoice}.Cost})",
            "        add_portrait;Reimu;FarRight",
            "        speak;Reimu;Damn, we really are poor.",
            "        finish",
            "    end",
            "choice;Confirmation;You sure?;Yes,No",
            "if;'{v:Confirmation}' == 'Yes'",
            "    alert;You hired {d:MercenaryHiringList.{v:MercenaryHireChoice}.Name}.",
            "    give_money;{eval: -1 * int({d:MercenaryHiringList.{v:MercenaryHireChoice}.Cost})};no_banner",
            "    load_unit;{v:MercenaryHireChoice};player",
            "    add_lore;{v:MercenaryHireChoice}",
            "    game_var;hireable_guys;[x for x in v('hireable_guys') if not x == '{d:MercenaryHiringList.{v:MercenaryHireChoice}.Name}']",
            "end"
        ]
    },
    {
        "name": "L Bozo",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.nid == 'Remilia'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Rinnosuke;FarLeft",
            "speak;Rinnosuke;You have severed your tie with fate.",
            "expression;Rinnosuke;CloseEyes;Smile",
            "speak;Rinnosuke;Persist in this doomed timeline.",
            "game_var;_turnwheel;False"
        ]
    },
    {
        "name": "Stoneskinned",
        "trigger": "unit_wait",
        "level_nid": null,
        "condition": "has_skill(unit, 'Stoneskinned')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Stoneskinned_Status;no_banner"
        ]
    },
    {
        "name": "Apparitions That Stalk The Night",
        "trigger": null,
        "level_nid": null,
        "condition": "has_skill(unit, 'Apparitions_That_Stalk_The_Night')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Rumia;Right",
            "speak;Rumia;Taste the night!",
            "set_fog_of_war;thracia;1;1;1",
            "enable_fog_of_war;t",
            "give_skill;{unit};Night_Hunter;no_banner"
        ]
    },
    {
        "name": "Apparitions That Stalk The Night_End",
        "trigger": "level_end",
        "level_nid": null,
        "condition": "has_skill(unit, 'Apparitions_That_Stalk_The_Night')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "remove_skill;{unit};Night_Hunter;no_banner"
        ]
    },
    {
        "name": "Mask_Calm",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Mask_Happy"
        ]
    },
    {
        "name": "Mask_Happy",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Mask_Anger"
        ]
    },
    {
        "name": "Mask_Anger",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Mask_Sad"
        ]
    },
    {
        "name": "Mask_Hope2",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Mask_Calm"
        ]
    },
    {
        "name": "Mask_Hope",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Mask_Hope2"
        ]
    },
    {
        "name": "Mask_Sad",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Mask_Hope"
        ]
    },
    {
        "name": "BanditReinforcements",
        "trigger": "turn_change",
        "level_nid": "1",
        "condition": "game.turncount == 5",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "move_cursor;22,8",
            "add_group;Rein;Rein;warp;closest",
            "add_portrait;Rumia;Right",
            "speak;Rumia;That damn miko! Who does she think she is, beating me up like that?! I'll show her!",
            "remove_portrait;Rumia"
        ]
    },
    {
        "name": "MermaidReinforcements",
        "trigger": "turn_change",
        "level_nid": "1",
        "condition": "game.turncount == 13",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "move_cursor;10,13",
            "add_group;Mermaid;Mermaid;fade;closest",
            "add_portrait;Wakasagihime;CenterRight",
            "speak;Wakasagihime;The time has come! Time to sink these fools!"
        ]
    },
    {
        "name": "ReimuKeineTalk",
        "trigger": "on_talk",
        "level_nid": "1",
        "condition": "unit.nid == 'Reimu' and unit2.nid == 'Keine_NPC'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Reimu;CenterLeft",
            "add_portrait;Keine;CenterRight",
            "speak;Reimu;We're here.",
            "speak;Keine;Reimu?! Finally, reinforcements. Listen up, everyone! Drive these youkai out of here!",
            "win_game"
        ]
    },
    {
        "name": "MarisaKeineTalk",
        "trigger": "on_talk",
        "level_nid": "1",
        "condition": "unit.nid == 'Marisa' and unit2.nid == 'Keine_NPC'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Marisa;CenterLeft",
            "add_portrait;Keine;CenterRight",
            "speak;Marisa;Hey Keine! We're here to help!",
            "speak;Keine;Marisa?! Finally, reinforcements. Listen up, everyone! Drive these youkai out of here!",
            "win_game"
        ]
    },
    {
        "name": "Destroy1",
        "trigger": "Destructible",
        "level_nid": "1",
        "condition": "region.nid == 'Destroy1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "flicker_cursor;6,2",
            "show_layer;House1",
            "wait;500"
        ]
    },
    {
        "name": "Destroy2",
        "trigger": "Destructible",
        "level_nid": "1",
        "condition": "region.nid == 'Destroy2'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "flicker_cursor;18,17",
            "show_layer;House2",
            "wait;500"
        ]
    },
    {
        "name": "Destroy3",
        "trigger": "Destructible",
        "level_nid": "1",
        "condition": "region.nid == 'Destroy3'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "flicker_cursor;23,18",
            "show_layer;House3",
            "wait;500"
        ]
    },
    {
        "name": "Mokou_Recoil",
        "trigger": null,
        "level_nid": null,
        "condition": "has_skill(unit, 'Immortal_Red_Soul')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;unit != unit2",
            "sound;FireHit",
            "map_anim;AOE_Fireball;{unit}",
            "set_current_hp;{unit};{e:max(1, unit.get_hp() - int(unit.get_max_hp() / 5))}",
            "else",
            "end"
        ]
    },
    {
        "name": "MokouRecover",
        "trigger": null,
        "level_nid": null,
        "condition": "has_skill(unit, 'Immortal_Red_Soul')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;unit.get_hp() != unit.get_max_hp()",
            "sound;Heal1",
            "map_anim;MapSmallHealTrans;{unit}",
            "set_current_hp;{unit};{e:max(1, unit.get_hp() + int(unit.get_stat('MAG')))}",
            "else",
            "end"
        ]
    },
    {
        "name": "Record Position",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;UnitPosition;unit.position",
            "end"
        ]
    },
    {
        "name": "Mokou_Death",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "has_skill(unit, 'Immortal_Red_Soul')",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Mokou_NPC;FarLeft",
            "speak;Mokou_NPC;RISE, IMMORTAL PHOENIX!",
            "resurrect;{unit}",
            "add_unit;{unit};{v:UnitPosition}",
            "end"
        ]
    },
    {
        "name": "Mokou_Aura",
        "trigger": null,
        "level_nid": null,
        "condition": "has_skill(unit, 'Phoenix_Aura')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Phoenix_Aura_1;no_banner",
            "set_current_hp;{unit};{e:max(1, int(unit.get_max_hp() / 2))}",
            "sound;FireBall",
            "end"
        ]
    },
    {
        "name": "Marisa_Growths",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;marisa_hp;0",
            "game_var;marisa_str;0",
            "game_var;marisa_mag;0",
            "game_var;marisa_skl;0",
            "game_var;marisa_skl;0",
            "game_var;marisa_lck;0",
            "game_var;marisa_def;0",
            "game_var;marisa_res;0",
            "game_var;marisa_con;0",
            "game_var;marisa_mov;0"
        ]
    },
    {
        "name": "Marisa_Kill",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            " if;unit2.get_hp() == 0",
            "inc_game_var;marisa_hp;game.get_random(3,5)",
            "inc_game_var;marisa_str;game.get_random(3,5)",
            "inc_game_var;marisa_mag;game.get_random(3,5)",
            "inc_game_var;marisa_skl;game.get_random(3,5)",
            "inc_game_var;marisa_spd;game.get_random(3,5)",
            "inc_game_var;marisa_lck;game.get_random(3,5)",
            "inc_game_var;marisa_def;game.get_random(3,5)",
            "inc_game_var;marisa_res;game.get_random(3,5)",
            "else",
            "end"
        ]
    },
    {
        "name": "Marisa_Level",
        "trigger": "unit_level_up",
        "level_nid": null,
        "condition": "has_skill(unit, 'Hard_Worker')",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;marisa_hp;0",
            "game_var;marisa_str;0",
            "game_var;marisa_mag;0",
            "game_var;marisa_skl;0",
            "game_var;marisa_spd;0",
            "game_var;marisa_lck;0",
            "game_var;marisa_def;0",
            "game_var;marisa_res;0"
        ]
    },
    {
        "name": "Flood_of_Frost",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;{unit};Frost_Barrier"
        ]
    },
    {
        "name": "SeiranDeath",
        "trigger": "unit_death",
        "level_nid": "3",
        "condition": "unit.nid == \"Seiran_Boss\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "win_game"
        ]
    },
    {
        "name": "Talk_Mystia_Reimu",
        "trigger": "on_talk",
        "level_nid": "2",
        "condition": "unit.nid == 'Reimu' and unit2.nid == 'Mystia'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Reimu;Right",
            "add_portrait;Mystia;Left",
            "speak;Mystia;Eek-",
            "speak;Reimu;I got two options for you. Join us, or I exterminate you. Wanna join us?",
            "speak;Mystia;*nods*",
            "speak;Reimu;These youkai really are easy to push around if you're just a bit more assertive. Heh.",
            "multi_remove_portrait;Reimu;Mystia",
            "change_team;Mystia;player",
            "remove_talk;Reimu;Mystia",
            "remove_talk;Marisa;Mystia"
        ]
    },
    {
        "name": "Talk_Mystia_Marisa",
        "trigger": "on_talk",
        "level_nid": "2",
        "condition": "unit.nid == 'Marisa' and unit2.nid == 'Mystia'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Mystia;Left",
            "add_portrait;Marisa;Right",
            "speak;Marisa;Heyo! Time to die!",
            "speak;Mystia;W-wait! Wait! Don't hurt me, please! I just got dragged into this by Wriggle!",
            "speak;Marisa;Huh. Lotta loyalty there. Welp, prepare to-",
            "speak;Mystia;Wait, I can help you! I can help you!",
            "speak;Marisa;You're just a chirping bird.",
            "speak;Mystia;Please, I can convince Wriggle to stand down!",
            "speak;Marisa;Well, I guess that does save us the trouble.",
            "speak;Mystia;Phew...",
            "multi_remove_portrait;Marisa;Mystia",
            "change_team;Mystia;player",
            "remove_talk;Reimu;Mystia",
            "remove_talk;Marisa;Mystia"
        ]
    },
    {
        "name": "Talk_Wriggle",
        "trigger": "on_talk",
        "level_nid": "2",
        "condition": "unit.nid == 'Mystia' and unit2.nid == 'Wriggle'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Mystia;Right",
            "add_portrait;Wriggle;Left",
            "speak;Mystia;Wriggle! Wriggle! Stand down!",
            "speak;Wriggle;What the-Mystia?! Why?",
            "speak;Mystia;I mean, think about it! Do you really wanna get blasted into a crater again?",
            "speak;Wriggle;Hm, that's true. But we have the advantage of the night!",
            "speak;Mystia;They're also, uh...right there.",
            "speak;Wriggle;...",
            "speak;Mystia;...",
            "speak;Wriggle;Yeah, on second thought. Let's go talk it out with them.",
            "multi_remove_portrait;Wriggle;Mystia",
            "change_team;Wriggle;player",
            "remove_talk;Mystia;Wriggle",
            ""
        ]
    },
    {
        "name": "Shield_Check",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;unit2 and skill_system.check_enemy(unit, unit2)",
            "set_item_uses;{unit1};{e:unit.equipped_accessory.uid};-1;additive",
            "end"
        ]
    },
    {
        "name": "Armory",
        "trigger": "Armory",
        "level_nid": "1",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;close",
            "shop;{unit};Iron_Sword, Slim_Sword, Iron_Lance, Slim_Lance, Iron_Axe, Slim_Axe, Iron_Bow, Slim_Bow;armory",
            "transition;open",
            "has_finished;{unit}"
        ]
    },
    {
        "name": "Vendor",
        "trigger": "Vendor",
        "level_nid": "1",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;close",
            "shop;{unit};Fire, Ofuda, Flux, Heal, Life_Gem, Maple_Shield, Poppet, Lantern, Torch;vendor",
            "transition;open",
            "has_finished;{unit}"
        ]
    },
    {
        "name": "BaseSuika",
        "trigger": "on_base_convo",
        "level_nid": null,
        "condition": "unit == 'Suika'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "transition;close",
            "change_background;Camp Tent Interior",
            "transition;open",
            "load_unit;Suika",
            "add_portrait;Suika;Left",
            "add_portrait;Reimu;CenterRight",
            "add_portrait;Kasen;FarRight",
            "speak;Suika;Heyyy!",
            "speak;Reimu;Oh, there you are.",
            "speak;Kasen;Suika? What's going on?",
            "speak;Suika;Heard there was a party goin' on, so I decided to join!",
            "speak;Reimu;Battle party.",
            "speak;Suika;All the same to me! Let's have some fun!",
            "speak;Kasen;*sigh*",
            "multi_remove_portrait;Reimu;Kasen;Suika",
            "sound;Item",
            "alert;Suika joined the party!",
            "give_bexp;25;no_banner",
            "transition;close",
            "change_background",
            "remove_base_convo;Suika",
            "game_var;baseconvolist;[x for x in v('baseconvolist') if not x == 'Suika']",
            "add_lore;Suika",
            "transition;open"
        ]
    },
    {
        "name": "BaseKasen'sAdvice",
        "trigger": "on_base_convo",
        "level_nid": null,
        "condition": "unit == 'Advice'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "transition;close",
            "change_background;Camp Tent Interior",
            "transition;open",
            "add_portrait;Reimu;CenterRight",
            "add_portrait;Kasen;CenterLeft",
            "speak;Kasen;Hey, Reimu. There's some people who might want to speak with you in camp.",
            "speak;Reimu;Well, I don't wanna speak with them.",
            "speak;Kasen;Who knows? Maybe they'll have something useful for you, or maybe even a reward.",
            "speak;Reimu;Yeah, yeah. Anything else?",
            "speak;Kasen;Right. You should also be aware of the various facilities around camp.",
            "speak;Reimu;Like what?",
            "speak;Kasen;For starters, the Market. Here, you can buy and sell goods. The stock of goods might|update once in awhile, so keep that in mind.",
            "speak;Reimu;Awesome, a place to spend my hard earned donations.",
            "speak;Kasen;You should also check out the Codex. It might have helpful advice about what to do and|various pointers for certain people.",
            "speak;Reimu;Kasen, I think I know everybody in the party to an extent.",
            "speak;Kasen;Wasn't talking to you.",
            "speak;Reimu;Huh?",
            "speak;Kasen;Finally, the Mercenary Camp. You can hire extra units here to fight for you, at a cost.|Luckily, you only need to pay them one time and they'll loyally follow you forever.",
            "speak;Reimu;Maybe I should charge for my services too...",
            "speak;Kasen;Did you get all that?",
            "speak;Reimu;Yeah, yeah.",
            "multi_remove_portrait;Kasen,Reimu",
            "give_bexp;25;no_banner",
            "transition;close",
            "change_background",
            "remove_base_convo;Advice",
            "game_var;baseconvolist;[x for x in v('baseconvolist') if not x == 'Advice']",
            "transition;open"
        ]
    },
    {
        "name": "BaseMercenary",
        "trigger": "on_base_convo",
        "level_nid": null,
        "condition": "unit == 'Mercenaries'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "transition;close",
            "change_background;Camp Tent Interior",
            "transition;open",
            "add_portrait;Reimu;CenterRight",
            "add_portrait;Miyoi;CenterLeft",
            "speak;Miyoi;Hey Reimu!",
            "speak;Reimu;Miyoi? What are you doing here?",
            "speak;Miyoi;Well, I figured I'd get a change of pace for a bit and run a tavern around your camp!",
            "speak;Reimu;Why am I always attracting more weird people...",
            "speak;Miyoi;Well, it seems plenty of people want a bit of that profit in your conquest, so they've all|gathered here to ask you for money in exchange for mercenary services!",
            "speak;Reimu;I see...",
            "speak;Miyoi;Well, this number will only grow as you move around, so come around and take a look at|the mercenary camp! Maybe you'll find someone you wanna hire!",
            "speak;Reimu;More money out of the fund...",
            "speak;Miyoi;Well, money sitting around isn't worth anything, is it?",
            "multi_remove_portrait;Miyoi,Reimu",
            "give_bexp;25;no_banner",
            "transition;close",
            "change_background",
            "remove_base_convo;Mercenaries",
            "game_var;baseconvolist;[x for x in v('baseconvolist') if not x == 'Mercenaries']",
            "transition;open"
        ]
    },
    {
        "name": "BaseMarket",
        "trigger": "on_base_convo",
        "level_nid": null,
        "condition": "unit == 'Market'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "transition;close",
            "change_background;Camp Tent Interior",
            "transition;open",
            "add_portrait;Reimu;CenterRight",
            "add_portrait;Rinnosuke;CenterLeft",
            "speak;Rinnosuke;Hey Reimu, I've opened up shop around your camp.",
            "speak;Reimu;That fast...? Are you even going to be selling anything of worth?",
            "speak;Rinnosuke;Hey, I can sell normal wares too! They're just not my passion.",
            "speak;Reimu;If you say so.",
            "multi_remove_portrait;Rinnosuke,Reimu",
            "give_bexp;25;no_banner",
            "transition;close",
            "change_background",
            "remove_base_convo;Market",
            "game_var;baseconvolist;[x for x in v('baseconvolist') if not x == 'Market']",
            "transition;open"
        ]
    },
    {
        "name": "BaseRinnosuke",
        "trigger": "on_base_convo",
        "level_nid": null,
        "condition": "unit == 'Rinnosuke'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "transition;close",
            "change_background;Camp Tent Interior",
            "transition;open",
            "load_unit;Rinnosuke",
            "add_portrait;Rinnosuke;Left",
            "add_portrait;Marisa;Right",
            "speak;Marisa;Heyyyy, Kourin!",
            "speak;Rinnosuke;Hm? Marisa? What is it?",
            "speak;Marisa;Y'know, we're running short on people to be on the battlefield...so...",
            "speak;Rinnosuke;I am hardly built for combat, Marisa, you should know this.",
            "speak;Marisa;Bah, but you even have that awesome sword with you! That Kusanagi whatchamacalit!",
            "speak;Rinnosuke;Pretty sure this thing couldn't swat a fly if I tried.",
            "speak;Marisa;Y'never know until y'give it a shot!",
            "speak;Rinnosuke;Fine, but don't expect any decent results.",
            "multi_remove_portrait;Marisa;Rinnosuke",
            "sound;Item",
            "alert;Rinnosuke joined the party!",
            "give_bexp;25;no_banner",
            "transition;close",
            "change_background",
            "remove_base_convo;Rinnosuke",
            "game_var;baseconvolist;[x for x in v('baseconvolist') if not x == 'Rinnosuke']",
            "add_lore;Rinnosuke",
            "transition;open"
        ]
    },
    {
        "name": "BaseFunds",
        "trigger": "on_base_convo",
        "level_nid": null,
        "condition": "unit == 'Funds'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "transition;close",
            "change_background;Camp Tent Interior",
            "transition;open",
            "add_portrait;Kasen;CenterLeft",
            "add_portrait;Reimu;CenterRight",
            "speak;Kasen;Oh, don't forget these funds, Reimu.",
            "speak;Reimu;Wait a minute...are those the funds from the donation box?",
            "speak;Kasen;Well, you have to start with an investment from somewhere.",
            "speak;Reimu;Fine. ",
            "multi_remove_portrait;Reimu;Kasen",
            "sound;Item",
            "give_money;5000",
            "change_background",
            "remove_base_convo;Funds",
            "game_var;baseconvolist;[x for x in v('baseconvolist') if not x == 'Funds']",
            "transition;open"
        ]
    },
    {
        "name": "BaseKosuzu",
        "trigger": "on_base_convo",
        "level_nid": null,
        "condition": "unit == 'Kosuzu'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "transition;close",
            "change_background;Camp Tent Interior",
            "transition;open",
            "load_unit;Kosuzu",
            "add_portrait;Kosuzu;Left",
            "add_portrait;Reimu;CenterRight",
            "add_portrait;Kasen;FarRight",
            "speak;Kosuzu;Hey Reimu! And uh...",
            "speak;Kasen;Kasen. Nice to meet you.",
            "speak;Kosuzu;Uh, yeah, nice to meet you too!",
            "speak;Reimu;What are you even doing here? Shouldn't you be in the village right now?",
            "speak;Kosuzu;Well, I heard a rumor about youma scrolls in the area, so I decided to take a look!",
            "speak;Reimu;And now you're here.",
            "speak;Kosuzu;Hey, hey! I can help you out, you know? I'm good at managing books, and it's not like|these youma scrolls I brought with me are useless...",
            "speak;Kasen;Youma scrolls?! ",
            "speak;Reimu;Hey! Haven't we taught you that those are dangerous?! What are you doing carrying|those around?!",
            "speak;Kosuzu;I can manage them! Trust me!",
            "speak;Reimu;*sigh* Hand them over.",
            "speak;Kosuzu;H-hey! These are Suzunaan property! Hands off! Look, I can even cast them properly!",
            "sound;Bolting2",
            "speak;Kasen;...",
            "speak;Reimu;...",
            "speak;Kosuzu;See? I just blasted a hole in that wall!",
            "speak;Reimu;This could be an asset...",
            "speak;Kasen;Reimu! We're not letting a child play with these things!",
            "speak;Reimu;Look, if we keep her under supervision and she promises not to overexert herself, we'll|be fine!",
            "speak;Kosuzu;Pleeeease?",
            "speak;Kasen;I don't trust that, but fine. However, I'm setting strict limits on the usage of these.",
            "speak;Kosuzu;Hooray! (Finally, an easy way to get my hands on more youma books!)",
            "speak;Kasen;What was that?",
            "speak;Kosuzu;Uhh, nothing!",
            "multi_remove_portrait;Reimu;Kasen;Kosuzu",
            "sound;Item",
            "alert;Kosuzu joined the party!",
            "give_bexp;25;no_banner",
            "transition;close",
            "change_background",
            "remove_base_convo;Kosuzu",
            "game_var;baseconvolist;[x for x in v('baseconvolist') if not x == 'Kosuzu']",
            "add_lore;Kosuzu",
            "transition;open"
        ]
    },
    {
        "name": "Housekeeping",
        "trigger": "level_start",
        "level_nid": null,
        "condition": "False",
        "commands": [],
        "only_once": false,
        "priority": 1,
        "_source": [
            "for;baseconvo;v('baseconvolist')",
            "add_base_convo;{baseconvo}",
            "endf",
            "game_var;_base_market;1",
            "enable_convoy;1",
            "enable_supports;1",
            "game_var;_current_turnwheel_uses;3"
        ]
    },
    {
        "name": "ReimuRumiaTalk",
        "trigger": "on_talk",
        "level_nid": "1",
        "condition": "unit.nid == 'Reimu' and unit2.nid == 'Rumia'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Reimu;CenterLeft",
            "add_portrait;Rumia;CenterRight",
            "speak;Reimu;Oh, well look what the cat dragged in.",
            "speak;Rumia;I-I'm not afraid of you! I'll take you down today!",
            "speak;Reimu;Sure, and the Hakurei God is gonna get their power back next week. Try me.",
            "speak;Rumia;Uh...",
            "speak;Reimu;You're quivering.",
            "speak;Rumia;Hiyah! Take this!",
            "speak;Reimu;Missed.",
            "speak;Rumia;On second thought, I think I'll just lea-",
            "speak;Reimu;Hm, you could be an asset actually.",
            "speak;Rumia;What",
            "speak;Reimu;I don't really like having more youkai around, but welcome to the team.",
            "speak;Rumia;Huh",
            "change_party;Rumia;player"
        ]
    },
    {
        "name": "Fog",
        "trigger": "on_base_convo",
        "level_nid": "2",
        "condition": "unit == 'Fog'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "transition;close",
            "change_background;Camp Tent Interior",
            "transition;open",
            "add_portrait;Reimu;CenterRight",
            "add_portrait;Kasen;CenterLeft",
            "speak;Reimu;Hm, it's pretty dark around here.",
            "speak;Kasen;That's going to hinder our visibility. Please make sure to be careful in the dark.",
            "speak;Reimu;It's fine. Marisa can see further in the dark, and we have a few methods of lighting the|place up.",
            "speak;Kasen;Still, keep an eye out for anything hidden in the dark. Here. This lantern should help us see better.",
            "multi_remove_portrait;Kasen,Reimu",
            "give_bexp;25;no_banner",
            "give_item;Reimu;Lantern",
            "transition;close",
            "change_background",
            "remove_base_convo;Fog",
            "game_var;baseconvolist;[x for x in v('baseconvolist') if not x == 'Fog']",
            "transition;open"
        ]
    },
    {
        "name": "Turn9",
        "trigger": "turn_change",
        "level_nid": "3",
        "condition": "game.turncount == 9",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_group;Thief2;Thief2;fade;closest",
            "move_cursor;28,4"
        ]
    },
    {
        "name": "Turn15",
        "trigger": "turn_change",
        "level_nid": "3",
        "condition": "game.turncount == 15",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "change_ai;Seiran_Boss;Pursue",
            "add_portrait;Seiran;Left",
            "speak;Seiran;Alright, stop stalling! I'll take the fight to you!",
            "remove_portrait;Seiran"
        ]
    },
    {
        "name": "Turn15",
        "trigger": "turn_change",
        "level_nid": "2",
        "condition": "game.turncount == 15",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "change_ai;Wriggle;Pursue",
            "add_portrait;Wriggle;Left",
            "speak;Wriggle;What's taking them so long?! I'm gonna go myself!",
            "remove_portrait;Wriggle"
        ]
    },
    {
        "name": "Chest_1",
        "trigger": "Chest",
        "level_nid": "4",
        "condition": "region.nid == 'Chest_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest1",
            "give_item;{unit};Tarot"
        ]
    },
    {
        "name": "Chest_2",
        "trigger": "Chest",
        "level_nid": "4",
        "condition": "region.nid == 'Chest_2'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest2",
            "give_item;{unit};Swordreaver"
        ]
    },
    {
        "name": "Chest_3",
        "trigger": "Chest",
        "level_nid": "4",
        "condition": "region.nid == 'Chest_3'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest3",
            "give_item;{unit};Yukkuri_M"
        ]
    },
    {
        "name": "Chest_4",
        "trigger": "Chest",
        "level_nid": "4",
        "condition": "region.nid == 'Chest_4'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest4",
            "give_item;{unit};Eirins_Drugs"
        ]
    },
    {
        "name": "Chest_5",
        "trigger": "Chest",
        "level_nid": "4",
        "condition": "region.nid == 'Chest_5'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Chest5",
            "give_item;{unit};Longbow"
        ]
    },
    {
        "name": "Door_1",
        "trigger": "Door",
        "level_nid": "4",
        "condition": "region.nid == 'Door_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Door1"
        ]
    },
    {
        "name": "Door_2",
        "trigger": "Door",
        "level_nid": "4",
        "condition": "region.nid == 'Door_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Door2"
        ]
    },
    {
        "name": "Door_3",
        "trigger": "Door",
        "level_nid": "4",
        "condition": "region.nid == 'Door_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Door3"
        ]
    },
    {
        "name": "Door_4",
        "trigger": "Door",
        "level_nid": "4",
        "condition": "region.nid == 'Door_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Door4"
        ]
    },
    {
        "name": "Door_5",
        "trigger": "Door",
        "level_nid": "4",
        "condition": "region.nid == 'Door_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Door5",
            "add_portrait;{unit};Left",
            "speak;{unit};Alright! You're all free now!",
            "add_portrait;Man1;Right",
            "speak;Man1;...",
            "remove_portrait;Man1",
            "speak;{unit};What a weirdo.",
            "add_portrait;Cirno;CenterRight",
            "add_portrait;Daiyousei;FarRight",
            "speak;Cirno;Aha! I knew we'd be free, Dai!",
            "speak;Daiyousei;Good thing we were lucky...",
            "speak;Cirno;Luck shmuck, let's get outta here!",
            "multi_remove_portrait;{unit};Cirno;Daiyousei",
            "change_ai;Cirno;GreenEscape",
            "change_ai;Daiyousei;GreenEscape",
            "change_ai;145;GreenEscape",
            "change_ai;146;GreenEscape",
            "change_ai;147;GreenEscape"
        ]
    },
    {
        "name": "Door_6",
        "trigger": "Door",
        "level_nid": "4",
        "condition": "region.nid == 'Door_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Door6"
        ]
    },
    {
        "name": "Door_7",
        "trigger": "Door",
        "level_nid": "4",
        "condition": "region.nid == 'Door_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Door7"
        ]
    },
    {
        "name": "Door_8",
        "trigger": "Door",
        "level_nid": "4",
        "condition": "region.nid == 'Door_1'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "unlock;{unit}",
            "show_layer;Door8"
        ]
    },
    {
        "name": "Green Escape",
        "trigger": "Green_Escape",
        "level_nid": "4",
        "condition": "region.nid == 'Green_Escape'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "remove_unit;{unit}",
            "wait;400",
            "inc_level_var;GreenEscaped;1"
        ]
    },
    {
        "name": "Tewi",
        "trigger": "unit_wait",
        "level_nid": "4",
        "condition": "region.nid == 'Tewi'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Tewi;CenterRight",
            "speak;Tewi;So there you are! I hope you're feeling lucky, cause I'm coming right for you!",
            "remove_portrait;Tewi",
            "change_ai;Tewi_Boss;Pursue"
        ]
    },
    {
        "name": "FightTewi",
        "trigger": "combat_start",
        "level_nid": "4",
        "condition": "(unit.nid == \"Tewi_Boss\" and unit2.team == 'player') or (unit2.nid == \"Tewi_Boss\" and unit.team == 'player')",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Tewi;Left",
            "speak;Tewi;Step right up and see how fortunate you are!",
            "remove_portrait;Tewi"
        ]
    },
    {
        "name": "TewiDeath",
        "trigger": "unit_death",
        "level_nid": "4",
        "condition": "unit.nid == \"Tewi_Boss\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "add_portrait;Tewi;Left",
            "speak;Tewi;Ouch, ouch, ouch! Easy on the ears, buddy!",
            "remove_portrait;Tewi"
        ]
    },
    {
        "name": "DefeatBoss",
        "trigger": "combat_end",
        "level_nid": "4",
        "condition": "game.check_dead(\"Tewi_Boss\")",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "win_game"
        ]
    }
]