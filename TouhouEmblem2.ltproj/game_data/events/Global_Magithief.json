[
    {
        "name": "Magithief",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;stolen_shit;item2.nid",
            "inc_game_var;magithief_{v:stolen_shit}",
            "if;v('magithief_{v:stolen_shit}') <= 5",
            "    if;v('magithief_{v:stolen_shit}') != 5",
            "        if;any([x for x in get_item(unit, 'Tabula_Rasa').subitems if x.nid == v('stolen_shit')])",
            "            level_var;stolen_shit_uses;[x.data.get('uses') for x in get_item(unit, 'Tabula_Rasa').subitems if x.nid == v('stolen_shit')][0] + 1",
            "            remove_item_component;{unit1};{v:stolen_shit};uses;recursive",
            "            add_item_component;{unit1};{v:stolen_shit};uses;{v:stolen_shit_uses};recursive",
            "            set_item_uses;{unit1};{v:stolen_shit};{v:stolen_shit_uses};recursive",
            "            remove_item_component;{unit1};{v:stolen_shit};eval_available;recursive",
            "            add_item_component;{unit1};{v:stolen_shit};eval_available;\"False\";recursive",
            "        else",
            "            add_item_to_multiitem;{unit1};Tabula_Rasa;{v:stolen_shit};no_duplicate",
            "            game_var;stolen_shit;get_subitem(unit, 'Tabula_Rasa', v('stolen_shit')).uid",
            "            modify_item_component;{unit1};{v:stolen_shit};weapon_type;'Anima';recursive",
            "            modify_item_component;{unit1};{v:stolen_shit};weapon_rank;'E';recursive",
            "            remove_item_component;{unit1};{v:stolen_shit};c_uses;recursive",
            "            remove_item_component;{unit1};{v:stolen_shit};uses;recursive",
            "            remove_item_component;{unit1};{v:stolen_shit};prf_unit;recursive",
            "            remove_item_component;{unit1};{v:stolen_shit};prf_class;recursive",
            "            add_item_component;{unit1};{v:stolen_shit};uses;1;recursive",
            "            set_item_uses;{unit1};{v:stolen_shit};1;recursive",
            "            remove_item_component;{unit1};{v:stolen_shit};eval_available;recursive",
            "            add_item_component;{unit1};{v:stolen_shit};eval_available;\"False\";recursive",
            "        end",
            "    else",
            "        remove_item_from_multiitem;{unit1};Tabula_Rasa;{v:stolen_shit};no_warn",
            "        add_item_to_multiitem;{unit1};Tabula_Rasa;{v:stolen_shit};no_duplicate",
            "        level_var;stolen_shit_uses;item2.data.get('starting_uses') or item2.data.get('starting_c_uses', 0)",
            "        level_var;stolen_shit_uses;v('stolen_shit_uses') // 5",
            "        game_var;stolen_shit;get_subitem(unit, 'Tabula_Rasa', v('stolen_shit')).uid",
            "        modify_item_component;{unit1};{v:stolen_shit};weapon_type;'Anima';recursive",
            "        modify_item_component;{unit1};{v:stolen_shit};weapon_rank;'E';recursive",
            "        remove_item_component;{unit1};{v:stolen_shit};c_uses;recursive",
            "        remove_item_component;{unit1};{v:stolen_shit};uses;recursive",
            "        remove_item_component;{unit1};{v:stolen_shit};prf_unit;recursive",
            "        remove_item_component;{unit1};{v:stolen_shit};prf_class;recursive",
            "        add_item_component;{unit1};{v:stolen_shit};c_uses;{v:stolen_shit_uses};recursive",
            "    end",
            "end"
        ],
        "nid": "Global Magithief"
    }
]