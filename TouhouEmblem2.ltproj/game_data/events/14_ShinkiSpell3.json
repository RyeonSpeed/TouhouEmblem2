[
    {
        "name": "ShinkiSpell3",
        "trigger": "combat_end",
        "level_nid": "14",
        "condition": "game.check_dead(\"Shinki_Boss_2\") ",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Shinki;Left",
            "speak;;Hour of Demons: Oumagatoki;center;153;hint;;red;;;1;;;;;Warp",
            "speak;Shinki;Demons of Makai, march to the aid of your master!",
            "remove_portrait;Shinki",
            "center_cursor;8,10;150",
            "wait;50",
            "add_group;Shinki3A;Shinki3A;warp;closest",
            "wait;200",
            "center_cursor;23,15;150",
            "wait;50",
            "add_group;Shinki3B;Shinki3B;warp;closest",
            "wait;200",
            "center_cursor;9,0;150",
            "wait;50",
            "add_group;Shinki3C;Shinki3C;warp;closest",
            "wait;700",
            "autolevel_to;Shinki_Boss_3;22;fixed",
            "autolevel_to;Sara_Boss_2;18;fixed",
            "autolevel_to;Louise_Boss_2;18;fixed",
            "center_cursor;15,3",
            "wait;100",
            "add_group;Cultists;Cultists;warp;closest",
            "wait;200",
            "flicker_cursor;202",
            "wait;100",
            "add_portrait;Reimu;Left",
            "speak;Reimu;Huh? What the hell are these losers doing here?",
            "if;game.phase.get_current() == 'enemy'",
            "for;Spell;game.level.unit_groups.get('Shinki3').units",
            "    has_finished;{Spell}",
            "endf",
            "else",
            "end"
        ],
        "nid": "14 ShinkiSpell3"
    }
]