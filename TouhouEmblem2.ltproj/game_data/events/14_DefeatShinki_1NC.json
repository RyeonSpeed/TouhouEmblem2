[
    {
        "name": "DefeatShinki_1NC",
        "trigger": "unit_death",
        "level_nid": "14",
        "condition": "unit1.nid == 'Shinki_Boss_1' and unit2 == None",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "kill_unit;Shinki_Boss_1",
            "",
            "add_portrait;Shinki;CenterLeft",
            "add_portrait;PC-98 Alice;FarLeft",
            "speak;;Strings of Oumagatoki;center;130;hint;;red;;;1;;;;;Warp",
            "speak;Shinki;Come with me, Alice!",
            "speak;PC-98 Alice;I'll string you up!",
            "remove_portrait;Shinki",
            "remove_portrait;PC-98 Alice",
            "center_cursor;0,3;150",
            "wait;50",
            "add_group;Shinki2A;Shinki2A;warp;closest",
            "wait;200",
            "center_cursor;9,0;150",
            "wait;50",
            "add_group;Shinki2B;Shinki2B;warp;closest",
            "wait;200",
            "center_cursor;21,4;150",
            "wait;50",
            "add_group;Shinki2C;Shinki2C;warp;closest",
            "wait;200",
            "center_cursor;23,15;150",
            "wait;50",
            "add_group;Shinki2D;Shinki2D;warp;closest",
            "wait;200",
            "center_cursor;23,23;150",
            "wait;50",
            "add_group;Shinki2E;Shinki2E;warp;closest",
            "wait;400",
            "autolevel_to;Shinki_Boss_2;22;fixed",
            "autolevel_to;Alice_Boss_5;18;fixed",
            "level_var;ShinkiDead2;1",
            "",
            "if;game.phase.get_current() == 'enemy'",
            "for;Spell;game.level.unit_groups.get('Shinki2').units",
            "    has_finished;{Spell}",
            "endf",
            "else",
            "end"
        ],
        "nid": "14 DefeatShinki_1NC"
    }
]