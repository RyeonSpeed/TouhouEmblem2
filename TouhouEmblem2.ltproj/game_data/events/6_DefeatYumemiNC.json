[
    {
        "name": "DefeatYumemiNC",
        "trigger": "unit_death",
        "level_nid": "6",
        "condition": "unit1.nid == 'Yumemi_Boss' and unit2 == None",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "kill_unit;Yumemi_Boss",
            "add_portrait;Yumemi;Left",
            "speak;Yumemi;Very impressive, but this is only the first trial.",
            "",
            "speak;;Mechanics Sign: Joule's Revelation;center;180;hint;;red;;;1;;;;;Warp",
            "speak;Yumemi;It's not over yet! I'll teach you that fundamental laws can't be overwritten!",
            "remove_portrait;Yumemi",
            "add_group;YumemiSpell;YumemiSpell;warp;push",
            "autolevel_to;Yumemi_Boss_1;15;fixed",
            "autolevel_to;Chiyuri_Boss_1;12;fixed",
            "move_cursor;Yumemi_Boss_1",
            "level_var;YumemiDead;1",
            "",
            "for;VICTIMS;[x.nid for x in game.get_all_units()]",
            "give_skill;{VICTIMS};Decreasing_Work_Efficiency;;no_banner",
            "endf",
            "end",
            "if;game.phase.get_current() == 'enemy'",
            "for;Spell;game.level.unit_groups.get('YumemiSpell').units",
            "    has_finished;{Spell}",
            "endf",
            "else",
            "end"
        ],
        "nid": "6 DefeatYumemiNC"
    }
]