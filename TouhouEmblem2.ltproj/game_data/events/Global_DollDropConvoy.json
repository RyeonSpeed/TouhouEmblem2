[
    {
        "name": "DollDropConvoy",
        "trigger": "combat_end",
        "level_nid": null,
        "condition": "unit1.nid in ['Shanghai','Hourai'] or unit2.nid in ['Shanghai','Hourai']",
        "commands": [],
        "only_once": false,
        "priority": 21,
        "_source": [
            "for;BRUH;[x.nid for x in u('Shanghai').items]",
            "if;'{BRUH}' not in ['Reginleif_S', 'Horseslayer_S']",
            "    game_var;doll_item;'{BRUH}'",
            "    game_var;doll_item2;get_item('Shanghai','{BRUH}').name",
            "    move_item;Shanghai;convoy;{v:doll_item}",
            "    alert;{v:doll_item2} was sent to the convoy.;{v:doll_item}",
            "end",
            "endf",
            "",
            "for;BRUH;[x.nid for x in u('Hourai').items]",
            "if;'{BRUH}' not in ['Slime_S', 'Yomi_S']",
            "    game_var;doll_item;'{BRUH}'",
            "    game_var;doll_item2;get_item('Hourai','{BRUH}').name",
            "    move_item;Hourai;convoy;{v:doll_item}",
            "    alert;{v:doll_item2} was sent to the convoy.;{v:doll_item}",
            "end",
            "endf"
        ],
        "nid": "Global DollDropConvoy"
    }
]